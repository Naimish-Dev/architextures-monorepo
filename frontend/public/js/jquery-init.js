var _0x4035ea=function(){var _0xfde82c=!0;return function(_0x117a3a,_0x41096e){var _0x28cc02=_0xfde82c?function(){if(_0x41096e){var _0x79c8d=_0x41096e.apply(_0x117a3a,arguments);return _0x41096e=null,_0x79c8d}}:function(){};return _0xfde82c=!1,_0x28cc02}}(),_0x52dbc7=_0x4035ea(this,(function(){return _0x52dbc7.toString().search("(((.+)+)+)+$").toString().constructor(_0x52dbc7).search("(((.+)+)+)+$")}));function getHatchMethod(){if(1==params.hatchJoints)var _0x14091c=config.patterns[params.patternId].hatchJoints;else var _0x14091c=config.patterns[params.patternId].hatchEdges;return _0x14091c}_0x52dbc7(),window.config||(config={}),config.highResLoaded=!1,config.view="texture",addEventListener("DOMContentLoaded",_0x402f6b=>{function _0xbe02d1(_0x26ea57,_0x4532a4){var _0x1c08cf;return Math.floor(_0x26ea57/_0x4532a4)}function _0xdc661d(_0x25f549){return new Promise((function(_0x32b229,_0xd8b50c){if(["fromImage","fromPaths"].includes(getHatchMethod()))_0x29d791().then((function(_0x54477d){_0x32b229(_0x25f549+_0x54477d)}));else if("fromPaths"==getHatchMethod()){var _0x305209,_0x17e36f=_0x427680(_0x507ec0({type:"whiteOnBlack",tileTexture:!1,canvasId:"temp-canvas",returnImg:!1,minGrid:config.patterns[params.patternId].hatchMinGrid,returnPoints:!0,maxSize:200})),_0x4201d3=hatchFromPaths(_0x17e36f,_0xf5c8e6.width,_0xf5c8e6.height,params.hatchApp,params.hatchType,params.inches,config.textureWidth,config.textureHeight);_0x32b229(_0x25f549+_0x4201d3)}else _0x32b229(_0x25f549)}))}function _0x450bad(_0x17ee44,_0x4cf373,_0x399d43,_0x3ba3a9=10){return diffStart=performance.now(),width=_0x4cf373,height=_0x399d43,new Promise((function(_0x2b00e7,_0x25062a){config.diffuseRenderer||(config.diffuseRenderer=new THREE.WebGLRenderer({antialias:!0}));var _0x266f4f=config.diffuseRenderer;const _0xdf556c=new THREE.OrthographicCamera(width/-2,width/2,height/2,height/-2,1,1e3);var _0x1e10a6=new THREE.Scene;_0x1e10a6.add(_0xdf556c),_0x266f4f.setSize(width,height);const _0x33ae18=new Promise((_0x4fec51,_0x37ce83)=>{(new THREE.TextureLoader).load(_0x17ee44,(function(_0x5a9875){_0x4fec51(_0x5a9875)}))});_0x33ae18.then((function(_0x24780a){_0x24780a.wrapS=THREE.RepeatWrapping,_0x24780a.wrapT=THREE.RepeatWrapping,_0x24780a.minFilter=THREE.LinearFilter,_0x24780a.repeat.set(3,3),_0xdf556c.position.z=600,_0xdf556c.position.x=0,_0xdf556c.position.y=0,_0xdf556c.lookAt(new THREE.Vector3(0,0,0));var _0xa59e3c=new THREE.DirectionalLight(16777215,1);_0xa59e3c.position.set(-300,300,250);var _0x5c4b84=new THREE.MeshStandardMaterial({bumpMap:_0x24780a,bumpScale:_0x3ba3a9}),_0x44150f=new THREE.Mesh(new THREE.PlaneGeometry(3*width,3*height),_0x5c4b84);_0x44150f.position.set(0,0,0),_0x1e10a6.add(_0x44150f),_0x1e10a6.add(_0xa59e3c),_0x266f4f.render(_0x1e10a6,_0xdf556c),_0x2b00e7(_0x266f4f.domElement),config.perf.diffuseMap=performance.now()-diffStart}))}))}var _0x4a119e=document.getElementById("svg-canvas"),_0xf5c8e6=document.getElementById("temp-canvas"),_0x360630=_0xf5c8e6.getContext("2d");function _0x507ec0(_0x4b4947={type:"texture",tileTexture:!0,canvasId:"canvas",returnImg:!1,minGrid:!1,returnPoints:!1}){if(config.perf={edgeClip:0,edgeProfile:0,imageFills:0,diffuseMap:0,tints:0,filters:0,shadows:0},drawStart=performance.now(),!window.hasOwnProperty("THREE"))return config.initialAttempts||(config.initialAttempts=1),void(config.initialInterval||(config.initialInterval=setInterval((function(){config.initialAttempts++,config.initialAttempts<10&&!1===config.initialDraw&&_0x507ec0(_0x4b4947)}),500)));function _0xfc878(_0x571d85){var _0x5a64eb=1e4*Math.sin(_0x571d85++);return _0x5a64eb-Math.floor(_0x5a64eb)}config.drawSettings=config.hasOwnProperty("drawSettings")?config.drawSettings:_0x4b4947,_0x4b4947=config.drawSettings;var _0x2a4e44=_0x4b4947.hasOwnProperty("params")?copy(_0x4b4947.params):copy(params);profileGradients=[],config.sourceScaled=!1;let _0x2d2a76=!!(_0x2a4e44.rows*_0x2a4e44.columns>900);for([styleName,style]of(_0x2d2a76&&(_0x2a4e44.recessJoints=!1),Object.entries(_0x2a4e44.tileStyles)))if(_0x2d2a76&&(style.edge={profile:"fine",scale:1,exclude:[],width:25}),style.hasOwnProperty("designOptions"))for(const _0x2c0c59 of Object.values(style.designOptions))for(var[_0xc01c46,_0xf28aaf]of Object.entries(_0x2c0c59.params)){if(["tileWidth","tileHeight","tileBreadth","tileLength","jointWidth","jointWidthHorizontal","jointWidthVertical"].includes(_0xc01c46)&&(_0xf28aaf=getDimensionValue(_0xf28aaf,_0x2c0c59.params)),"setTagFilters"==_0xc01c46&&(style.tagFilters=_0xf28aaf),"removeTagFilters"==_0xc01c46)for(tag of _0xf28aaf)delete style.tagFilters[tag];if("addTagFilters"==_0xc01c46)for(tag of(style.tagFilters||(style.tagFilters=[]),_0xf28aaf))style.tagFilters.push(tag);"tileLength"==_0xc01c46&&(parseInt(_0x2a4e44.tileWidth)>parseInt(_0x2a4e44.tileHeight)?_0x2a4e44.tileWidth=_0xf28aaf:_0x2a4e44.tileHeight=_0xf28aaf),"tileBreadth"==_0xc01c46&&(parseInt(_0x2a4e44.tileWidth)<parseInt(_0x2a4e44.tileHeight)?_0x2a4e44.tileWidth=_0xf28aaf:_0x2a4e44.tileHeight=_0xf28aaf),"secondMaterial"==_0xc01c46&&(_0xf28aaf.hasOwnProperty("placement")&&(_0x2a4e44.tileStyles.b.placement=_0xf28aaf.placement),_0xf28aaf.hasOwnProperty("rowRules")&&(_0x2a4e44.tileStyles.b.rowRules=_0xf28aaf.rowRules),_0xf28aaf.hasOwnProperty("columnRules")&&(_0x2a4e44.tileStyles.b.columnRules=_0xf28aaf.columnRules),_0xf28aaf.hasOwnProperty("rowRuleShift")&&(_0x2a4e44.tileStyles.b.rowRuleShift=_0xf28aaf.rowRuleShift),_0xf28aaf.hasOwnProperty("columnRuleShift")&&(_0x2a4e44.tileStyles.b.columnRuleShift=_0xf28aaf.columnRuleShift)),"addMaterial"==_0xc01c46&&addMaterial(),"setStyleOverrides"==_0xc01c46&&(_0x2a4e44.styleOverrides=_0xf28aaf),"jointWidth"==_0xc01c46&&(_0x2a4e44.jointWidthHorizontal=_0xf28aaf,_0x2a4e44.jointWidthVertical=_0xf28aaf),config.generalParams.includes(_0xc01c46)&&(_0x2a4e44[_0xc01c46]=_0xf28aaf),config.tileParams.includes(_0xc01c46)&&(style[_0xc01c46]=_0xf28aaf)}let _0x4cfb98=[];if(config.prevParams)for(let[_0x3ace2e,_0x2bb13e]of Object.entries(_0x2a4e44))if("tileStyles"===_0x3ace2e){for(let[_0x16627c,_0x3c9f5b]of Object.entries(_0x2a4e44.tileStyles))for([styleKey,styleValue]of Object.entries(_0x3c9f5b))if(config.prevParams.tileStyles.hasOwnProperty(_0x16627c)&&config.prevParams.tileStyles[_0x16627c].hasOwnProperty(styleKey)){let _0x20e632=config.prevParams.tileStyles[_0x16627c][styleKey];"object"==typeof styleValue&&(styleValue=JSON.stringify(styleValue),_0x20e632=JSON.stringify(_0x20e632)),config.prevParams.tileStyles[_0x16627c].hasOwnProperty(styleKey)&&styleValue!==_0x20e632&&_0x4cfb98.push(styleKey)}}else config.prevParams.hasOwnProperty(_0x3ace2e)&&_0x2a4e44[_0x3ace2e]!==config.prevParams[_0x3ace2e]&&"object"!=typeof _0x2bb13e&&_0x4cfb98.push(_0x3ace2e);if(config.prevParams=copy(_0x2a4e44),config.ui.width.value=_0x2a4e44.tileWidth,config.ui.height.value=_0x2a4e44.tileHeight,patternName=_0x2a4e44.patternId,["multiColor","multiColorUnique","whiteOnBlack"].includes(_0x4b4947.type)){for([styleName,style]of(_0x2a4e44.ambientLight=!1,_0x2a4e44.recessJoints=!1,_0x2a4e44.view="texture",_0x2a4e44.edgeProfile="fine",Object.entries(_0x2a4e44.tileStyles)))style.imgType="solid",style.edge.profile="fine",style.tint="#FFFFFF";_0x2a4e44.jointType="solid",_0x2a4e44.jointTint="#000000",1==config.patterns[patternName].hatchMinGrid&&(_0x2a4e44.rows=1===config.patterns[patternName].rowMultiple?2*config.patterns[patternName].rowMultiple:config.patterns[patternName].rowMultiple,_0x2a4e44.columns=1===config.patterns[patternName].columnMultiple?2*config.patterns[patternName].columnMultiple:config.patterns[patternName].columnMultiple),0==_0x2a4e44.hatchJoints&&(_0x2a4e44.jointWidthHorizontal=0,_0x2a4e44.jointWidthVertical=0)}config.color||(config.color=newCanvas()),config.bump||(config.bump=newCanvas()),config.hatch||(config.hatch=newCanvas()),config.displacement||(config.displacement=newCanvas()),config.roughness||(config.roughness=newCanvas()),config.metalness||(config.metalness=newCanvas()),config.tileCanvas||(config.tileCanvas=newCanvas());let _0x1b7882={texture:["color","displacement"],bump:["bump","displacement"],hatch:["hatch"],normal:["bump","displacement"],displacement:["displacement"],roughness:["roughness"],metalness:["metalness"],plane:["metalness","roughness","color","bump","displacement"],sphere:["metalness","roughness","color","bump","displacement"],svg:["color","displacement"],scene:["color","displacement"]},_0x3f75e5=_0x1b7882[_0x2a4e44.view],_0x54c5b0=config[_0x3f75e5[0]].canvas,_0xf22a62=config[_0x3f75e5[0]].ctx;function _0x518d82(_0x514c2b,_0x4fed00,_0x58aa5c){var _0x156c21=_0x514c2b.depthBottom,_0x449a8e,_0x4af280=_0x514c2b.depthTop-_0x156c21;for(const _0x59bcd2 of _0x58aa5c){var _0x38275e=parseInt(_0x156c21+_0x4af280*_0x59bcd2.color);_0x4fed00.addColorStop(_0x59bcd2.stop,shadeToRgb(_0x38275e))}}function _0x574d2c(_0x1a2ce4){var _0x335e04=_0x1a2ce4.width/_0x1a2ce4.height;_0x58492f.width=_0x1a2ce4.width>1500||_0x1a2ce4.height>1500?_0x1a2ce4.width>_0x1a2ce4.height?1500:1500*_0x335e04:_0x1a2ce4.width,_0x58492f.height=_0x1a2ce4.width>1500||_0x1a2ce4.height>1500?_0x1a2ce4.width>_0x1a2ce4.height?1500/_0x335e04:1500:_0x1a2ce4.height,_0x360630.drawImage(_0x1a2ce4,0,0,_0x58492f.width,_0x58492f.height);var _0x1c3183=_0x360630.getImageData(0,0,_0x58492f.width,_0x58492f.height),_0x107e75,_0x2a9ea1=Sobel(_0x1c3183).toImageData();_0x360630.putImageData(_0x2a9ea1,0,0);let _0x3d55c6=newCanvas();return _0x3d55c6.canvas.width=_0x58492f.width,_0x3d55c6.canvas.height=_0x58492f.height,_0x3d55c6.ctx.drawImage(_0x58492f,0,1,_0x58492f.width,_0x58492f.height-2,0,0,_0x58492f.width,_0x58492f.height),_0x3d55c6.ctx.globalCompositeOperation="difference",_0x3d55c6.ctx.fillStyle="white",_0x3d55c6.ctx.fillRect(0,0,_0x58492f.width,_0x58492f.height),_0x3d55c6.canvas}function _0x6df5ff(_0x4cfc8a){return _0x4cfc8a.hasOwnProperty("sobel")||(_0x4cfc8a.sobel=_0x574d2c(_0x4cfc8a.texture_map_img)),_0x4cfc8a.sobel}if(_0x2a4e44.inches,_0x2a4e44.tileRotation,_0x2a4e44.jointRotation,"solid"==_0x2a4e44.tileStyles.a.imgType){var _0x49dbb6=document.createElement("canvas");_0x49dbb6.width=_0x49dbb6.height=1e3}else var _0x32844e=_0x2a4e44.tileStyles.a.tagFilters?_0x2a4e44.tileStyles.a.tagFilters:[],_0x49dbb6=_0x32844e.length?config.materials[_0x2a4e44.tileStyles.a.materialId].texture_sources.filter(_0x316a9f=>_0x316a9f.tags.includesAny(_0x32844e))[0].texture_map_img:config.materials[_0x2a4e44.tileStyles.a.materialId].texture_sources[0].texture_map_img;var _0xa5e8ff="solid"!=_0x2a4e44.jointID&&_0x2a4e44.jointID?config.materials[_0x2a4e44.jointID].texture_sources[0].texture_map_img:new Image,_0x52fd65=1==_0x4b4947.minGrid?config.patterns[patternName].rowMultiple:_0x2a4e44.rows,_0x136ec9=1==_0x4b4947.minGrid?config.patterns[patternName].columnMultiple:_0x2a4e44.columns,_0x322d66=_0x49dbb6.width,_0x29237d=_0x49dbb6.height,_0x3f319b=_0x2a4e44.tileStyles.a.materialWidth,_0x375eb4=!1;if(17===patternName){var _0x375eb4=!0;_0x52fd65=patternName=_0x136ec9=1,_0x2a4e44.tileWidth=_0x322d66,_0x2a4e44.tileHeight=_0x29237d,_0x2a4e44.tileStyles.a.edge={profile:"fine",scale:1,exclude:[],width:25},_0x2a4e44.jointWidthHorizontal=_0x2a4e44.jointWidthVertical=0}var _0x26be1b=_0x52fd65,_0x312c1f=_0x136ec9,_0x595a05=_0x2a4e44.randCrop?_0x2a4e44.randCrop:parseInt(1e4*Math.random()),_0x18118b=_0x2a4e44.randTone?_0x2a4e44.randTone:parseInt(1e4*Math.random()),_0x12fc9a=_0x2a4e44.randEdge?_0x2a4e44.randEdge:parseInt(1e4*Math.random()),_0xd0cc1c=_0x2a4e44.randSrc?_0x2a4e44.randSrc:parseInt(1e4*Math.random()),_0x2681b0=_0xa5e8ff.width,_0x362f12=_0xa5e8ff.height,_0x174992=_0x2a4e44.jointRealWidth,_0x537b4b=inchesToMm(_0x2a4e44.tileWidth),_0x3bce2b=inchesToMm(_0x2a4e44.tileHeight),_0x27b96=inchesToMm(_0x2a4e44.tileMinWidth),_0x1cea57=inchesToMm(_0x2a4e44.tileMinHeight);if("single"===config.patterns[patternName].dimType)var _0x3bce2b=_0x537b4b;if("svg"==_0x2a4e44.view?("tile-material-selector"==_0x2a4e44.trigger?regenSvg=!1:regenSvg=!0,svgStyle=_0x2a4e44.svgStyleIndex):regenSvg=!1,"hatch"==_0x2a4e44.view&&0==_0x2a4e44.hatchJoints)var _0x42695c=0,_0x17aaba=0;else var _0x42695c=parseInt(inchesToMm(_0x2a4e44.jointWidthHorizontal)),_0x17aaba=parseInt(inchesToMm(_0x2a4e44.jointWidthVertical));function _0x500a6b(_0x1ecd9d,_0x1aa660){var _0x4bbf99=void 0!==_0x4b4947.maxSize?_0x4b4947.maxSize:config.pro?2e3:1200,_0x2ed71c=_0x4bbf99/_0x1ecd9d,_0x1a8380=_0x4bbf99/_0x1aa660,_0x489dad;return _0x2ed71c<=_0x1a8380?_0x2ed71c:_0x1a8380}function _0x10a030(_0x2303f4,_0x4b4fef){var _0x135b12;return _0x4b4fef/_0x2303f4}function _0x4e9ea1(_0x1c1ce5,_0x4b8484){if(_0x2a4e44.hasOwnProperty("pixelWidth")||(_0x2a4e44.pixelWidth=2500),_0x2a4e44.hasOwnProperty("pxSize")||"high-res"==_0x2a4e44.trigger||"set-res"==_0x2a4e44.trigger){let _0x3d8c7d=90==_0x2a4e44.patternRotateAngle||270==_0x2a4e44.patternRotateAngle?_0x4b8484:_0x1c1ce5,_0x2c0588=90==_0x2a4e44.patternRotateAngle||270==_0x2a4e44.patternRotateAngle?_0x1c1ce5:_0x4b8484,_0x14a3c8=_0x2a4e44.hasOwnProperty("pxSize")?_0x2a4e44.pxSize:_0x2a4e44.pixelWidth;return _0x2c0588>_0x3d8c7d&&_0x2a4e44.hasOwnProperty("pxSize")&&(_0x14a3c8*=_0x3d8c7d/_0x2c0588),_0x10a030(_0x3d8c7d,_0x14a3c8)}return _0x500a6b(_0x1c1ce5,_0x4b8484)}function _0x4d4232(_0x35f246,_0x54fb08=0){var _0xbda6f6=[];for(x=0;x<_0x35f246.length;++x)if(x%2==0)for(y=0;y<_0x35f246[x];y++)_0xbda6f6.push(1);else for(y=0;y<_0x35f246[x];y++)_0xbda6f6.push(0);for(i=0;i<Math.abs(_0x54fb08);i++)_0x54fb08<0?_0xbda6f6.push(_0xbda6f6.shift()):_0xbda6f6.unshift(_0xbda6f6.pop());return _0xbda6f6}var _0x3eb931=(_0x537b4b+_0x42695c)*_0x136ec9,_0x524817=(_0x3bce2b+_0x17aaba)*_0x52fd65,_0x13d970=_0x4e9ea1(_0x3eb931,_0x524817),_0x4c59cd=_0x3bce2b;if("hatch"==_0x2a4e44.view&&0==_0x2a4e44.hatchJoints)var _0x404a83=0,_0x28423d=0;else var _0x404a83=_0x42695c,_0x28423d=_0x17aaba;var _0x4d4f13=_0x537b4b+_0x404a83,_0x2a5a38=_0x4c59cd+_0x28423d,_0x457e29=[];let _0x3dcd22=[{angle:0,edgeLength:_0x537b4b},{angle:90,edgeLength:_0x4c59cd},{angle:90,edgeLength:_0x537b4b},{angle:90,edgeLength:_0x4c59cd}];var _0x53a076=!1;if(!window.rowData||_0x375eb4||_0x4cfb98.includesAny(["patternId","patternAdditionalInteger1","patternStretchers","rows","columns","additionalStyles","frequency","placement","randomiseFillAngle","patternAngle","patternStretchers","tileWidth","tileHeight","tileMinHeight","tileMinHeight","tileID","jointWidthHorizontal","jointWidthVertical","materialWidth","rotate"]))for(_0x53a076=!0,rowData=[],r=0;r<_0x52fd65;++r)for(rowData[r]={},rowData[r].tiles=[],c=0;c<_0x136ec9;++c)rowData[r].tiles[c]={};var _0x23ee60=(_0x537b4b+_0x404a83)*_0x136ec9,_0x365020=(_0x4c59cd+_0x28423d)*_0x52fd65;function _0x9ab134(){var _0x2f1c1e=performance.now();_0x3f75e5.forEach((function(_0x3585f9){let _0x17b11d=config[_0x3585f9].ctx,_0x375eab=config[_0x3585f9].canvas;var _0x12375f=_0x174992/_0x2681b0,_0xd2b9ee=parseInt(_0x362f12*_0x12375f)*_0x13d970,_0x3b0dfa=parseInt(_0x2681b0*_0x12375f)*_0x13d970,_0xe61c41=parseInt(_0x54c5b0.width/_0xd2b9ee)+1,_0x5b5f89=parseInt(_0x54c5b0.height/_0x3b0dfa)+1,_0x10c7f8=_0x2a4e44.jointTint;if(["color"].includes(_0x3585f9)&&"solid.png"!==_0xa5e8ff){_0x17b11d.save();var _0x538003=[];if(_0x2a4e44.hasOwnProperty("jointBrightness")&&_0x538003.push("brightness("+_0x2a4e44.jointBrightness+")"),_0x2a4e44.hasOwnProperty("jointContrast")&&_0x538003.push("contrast("+_0x2a4e44.jointContrast+")"),_0x2a4e44.hasOwnProperty("jointHue")&&_0x538003.push("hue-rotate("+_0x2a4e44.jointHue+"deg)"),_0x2a4e44.hasOwnProperty("jointSaturation")&&_0x538003.push("saturate("+_0x2a4e44.jointSaturation+")"),_0x2a4e44.hasOwnProperty("jointInvert")){var _0x470a5b=_0x2a4e44.jointInvert?100:0;_0x538003.push("invert("+_0x470a5b+"%)")}for(_0x538003.length&&(_0x17b11d.filter=_0x538003.join(" ")),_0x17b11d.translate(_0x54c5b0.width,0),_0x17b11d.rotate(90*Math.PI/180),i=0;i<_0xe61c41;++i)for(j=0;j<_0x5b5f89;++j)_0x17b11d.drawImage(_0xa5e8ff,_0xd2b9ee*[i],_0x3b0dfa*[j],_0xd2b9ee,_0x3b0dfa);_0x17b11d.restore(),_0x17b11d.save(),_0x17b11d.globalCompositeOperation="multiply",_0x17b11d.fillStyle=_0x10c7f8,_0x17b11d.fillRect(0,0,_0x375eab.width,_0x375eab.height),_0x17b11d.restore()}else _0x17b11d.fillStyle="hatch"===_0x3585f9?"#eee":"displacement"===_0x3585f9||"bump"===_0x3585f9?shadeToRgb(_0x2a4e44.jointdepthBottom):["bump","metalness"].includes(_0x3585f9)?"#000":["roughness"].includes(_0x3585f9)?"#FFFFFF":_0x10c7f8,_0x17b11d.fillRect(0,0,_0x375eab.width,_0x375eab.height)})),config.perf.background=performance.now()-_0x2f1c1e}function _0x367486(_0x20c140,_0x5f0b73,_0x2d648e){var _0x3520b9=performance.now();function _0xb9bee7(_0x482084){return 0==_0x482084||0==_0x482084?0:!0===_0x482084?100:_0x482084}var _0xffc5={brightness:1,contrast:1,hue:0,saturation:1,invert:0};for(adjustment of Object.keys(_0xffc5)){var _0x4dec69="color"===_0x5f0b73?adjustment:_0x5f0b73+adjustment.ucFirst();_0x20c140.hasOwnProperty(_0x4dec69)&&(_0xffc5[adjustment]="invert"==adjustment?_0xb9bee7(_0x20c140[_0x4dec69]):_0x20c140[_0x4dec69])}["roughness","metalness","bump","displacement"].includes(_0x5f0b73)&&(_0xffc5.saturation=0),_0x2d648e.filter="invert(0%) brightness(1) contrast(1) hue-rotate(0deg) saturate(1)",config.perf.filters+=performance.now()-_0x3520b9}function _0x159b4c(_0xea682,_0x3bb69d,_0x1a9f55,_0x3bc808){var _0xe7928a=performance.now();_0x3bc808.save(),_0x1a9f55.tintMode?_0x3bc808.globalCompositeOperation=_0x1a9f55.tintMode:_0x3bc808.globalCompositeOperation="multiply",_0x1a9f55.tintOpacity&&(_0x3bc808.globalCompositeOperation=_0x1a9f55.tintOpacity),_0x1a9f55.tint?_0x3bc808.fillStyle=_0x1a9f55.tint:_0x3bc808.fillStyle="#FFFFFF",_0x3bc808.fillRect(0,0,_0xea682,_0x3bb69d),_0x3bc808.restore(),config.perf.tints+=performance.now()-_0xe7928a}function _0xc61eb0(_0x40a9e,_0xecf7cc,_0x4df928,_0x3b0025,_0x139175,_0x599163,_0x5a9fb7,_0x187f7e,_0x2a466d,_0x249852){let _0x2fc783=rowData[_0x40a9e].tiles[_0xecf7cc];if("gradients"in _0x4df928)for(const _0x126b44 of _0x4df928.gradients){var _0x27681a;if((_0x126b44.maps?_0x126b44.maps:["color"]).includes(_0x139175)){function _0x1f7d98(_0x3475c2){if("stops"in _0x126b44)for(const _0xdab0fc of _0x126b44.stops)_0x3475c2.addColorStop(_0xdab0fc[0],_0xdab0fc[1]);else _0x3475c2.addColorStop(0,_0x126b44.color?_0x126b44.color:"black"),_0x3475c2.addColorStop(1,"white")}if(_0x3b0025.save(),_0x3b0025.globalCompositeOperation="mode"in _0x126b44?_0x126b44.mode:"darken",_0x3b0025.globalAlpha="opacity"in _0x126b44?_0x126b44.opacity:1,"alignedToCanvas"===_0x126b44.position||"alignedToTile"===_0x126b44.position){if("alignedToTile"===_0x126b44.position&&!_0x2fc783.hasOwnProperty("minBoundingAngle")){let _0x1a46fc=tileMinBounds(_0x2fc783);_0x2fc783.minBoundingAngle=_0x1a46fc.angle,_0x2fc783.minBoundingWidth=_0x1a46fc.width,_0x2fc783.minBoundingHeight=_0x1a46fc.height}let _0x1d3852="alignedToTile"===_0x126b44.position?_0x2fc783.minBoundingAngle:0;if(_0x1d3852+=_0x126b44.hasOwnProperty("angle")?_0x126b44.angle:0,!_0x2fc783["boundingWidth"+_0x1d3852]){let _0x3258bf=tileBounds(_0x2fc783,_0x1d3852);_0x2fc783["boundingWidth"+_0x1d3852]=_0x3258bf.width,_0x2fc783["boundingHeight"+_0x1d3852]=_0x3258bf.height;var _0x521f55=trueOffset(_0x3258bf.offsetX,_0x3258bf.offsetY,_0x1d3852);_0x2fc783["offsetX"+_0x1d3852]=_0x521f55.x,_0x2fc783["offsetY"+_0x1d3852]=_0x521f55.y}let _0xf04429=_0x126b44.size?_0x126b44.size*_0x13d970:_0x2fc783["boundingWidth"+_0x1d3852]*_0x13d970,_0x2574a2=_0x3b0025.createLinearGradient(0,0,_0xf04429,0);_0x1f7d98(_0x2574a2),_0x3b0025.translate(_0x2fc783["offsetX"+_0x1d3852]*_0x13d970,_0x2fc783["offsetY"+_0x1d3852]*_0x13d970),_0x3b0025.rotate(_0x1d3852*Math.PI/180),_0x3b0025.fillStyle=_0x2574a2,_0x3b0025.fill()}else"alignedToEdge"===_0x126b44.position||_0x126b44.hasOwnProperty("edges")?_0x36f98b(_0x40a9e,_0xecf7cc,_0x3b0025,{stops:_0x126b44.stops?_0x126b44.stops:[[0,_0x126b44.color?_0x126b44.color:"black"],[1,"white"]],size:_0x126b44.size?_0x126b44.size:20,edges:_0x126b44.hasOwnProperty("edges")&&Array.isArray(_0x126b44.edges)?_0x126b44.edges:"all"}):(_0x3b0025.translate(_0x599163*_0x13d970,_0x5a9fb7*_0x13d970),_0x3b0025.rotate(_0x187f7e*Math.PI/180),_0x3b0025.fillStyle=gradient,_0x3b0025.fill());_0x3b0025.restore()}}}function _0x3cf5f7(_0x1da43f,_0x194545=_0xf22a62){var _0x28a664=config.paths[_0x1da43f.pathName].points,_0x325bdd=config.paths[_0x1da43f.pathName].points.length,_0x32043e=_0x1da43f.end.x-_0x1da43f.start.x,_0x1ea661=_0x1da43f.end.y-_0x1da43f.start.y,_0x4ac685=Math.sqrt(_0x32043e*_0x32043e+_0x1ea661*_0x1ea661),_0x2bb1c1=Math.abs(Math.atan(_0x1ea661/_0x32043e));_0x32043e<0&&_0x1ea661<0?_0x2bb1c1+=Math.PI:_0x32043e<0?_0x2bb1c1+=Math.PI-2*_0x2bb1c1:_0x1ea661<0&&(_0x2bb1c1-=2*_0x2bb1c1),_0x194545.save(),_0x194545.translate(_0x1da43f.start.x,_0x1da43f.start.y),_0x194545.lineTo(0,0),_0x194545.rotate(_0x2bb1c1);var _0x3dc32b=0,_0x4ccfb8=_0x1da43f.pathOffset%_0x325bdd;for(point=_0x4ccfb8;_0x3dc32b<_0x4ac685;++point){var _0x1c7224=point%_0x325bdd,_0x56d62a=(point-1)%_0x325bdd,_0x1c083f=(point+1)%_0x325bdd;_0x56d62a<0&&(_0x56d62a=_0x325bdd-1);var _0x329f4a=(_0x28a664[_0x1c7224][0]-_0x28a664[_0x56d62a][0])*_0x1da43f.scaleX;if(_0x329f4a<0&&(_0x329f4a=_0x28a664[1][0]*_0x1da43f.scaleX),(_0x3dc32b+=_0x329f4a)>_0x4ac685)break;var _0x3213df=_0x3dc32b,_0xc4276d=(_0x28a664[_0x1c7224][1]-config.paths[_0x1da43f.pathName].cornerOffset)*_0x1da43f.scaleY;_0x194545.lineTo(_0x3213df,_0xc4276d)}_0x194545.restore(),_0x194545.lineTo(_0x1da43f.end.x,_0x1da43f.end.y)}function _0x236c32(_0x328b56,_0x5e0179,_0x412377,_0xe2accb){var _0x861076=config.paths[_0xe2accb].points.length-1;return parseInt(_0xfc878(_0x328b56+""+_0x5e0179+_0x12fc9a)*_0x861076)}if(_0x16d4cd(_0x23ee60*_0x13d970,_0x365020*_0x13d970),_0x9ab134(),1==_0x4b4947.returnPoints&&null==_0x12d282)var _0x12d282=[];function _0x5965f9(_0x246ee1,_0x5d3a2c,_0x4444ef,_0x1fb4ba,_0x2ab61e,_0x9587f5,_0x1f0f3b=0){var _0x372ea9=performance.now(),_0x5a1c7a=rowData[_0x246ee1].tiles[_0x5d3a2c].style,_0x553034=_0x5a1c7a.edge.profile,_0x411033=config.edges[_0x553034]&&config.edges[_0x553034].hasOwnProperty("lines")?config.edges[_0x553034].lines.outer.path:"fine";if(isClone=!!_0x457e29.includes(_0x246ee1+","+_0x5d3a2c),1==_0x4b4947.returnPoints&&_0x1fb4ba&&!isClone)var _0x37fb3a=[];function _0x50e09e(_0xf72de3,_0x3f73a7,_0x472908,_0x17741c){if(_0x3f73a7+=_0x1f0f3b,_0x4444ef){var _0x456d2b=untransform(_0xf72de3,_0x3f73a7,_0x17741c,2);_0x472908.setAttribute("d",_0x472908.hasAttribute("d")?_0x472908.getAttribute("d")+" L "+_0x456d2b.x+" "+_0x456d2b.y:"M "+_0x456d2b.x+" "+_0x456d2b.y)}1==_0x4b4947.returnPoints&&_0x1fb4ba&&!isClone&&_0x37fb3a.push(untransform(0,0,_0x17741c,0)),"displacement"===_0x2ab61e&&_0x1fb4ba&&config.displacement.ctx.lineTo(_0xf72de3,_0x3f73a7),_0x9587f5.lineTo(_0xf72de3,_0x3f73a7)}if("fine"!=_0x411033)var _0x422aa6=config.paths[_0x411033].points.length,_0x1ab2e9=config.paths[_0x411033].points[_0x422aa6-1][0];_0x9587f5.save(),_0x1fb4ba&&(config.displacement.ctx.lineTo(_0x4f5e87,_0x3c0174+_0x1f0f3b),config.displacement.ctx.beginPath()),_0x9587f5.beginPath();var _0x510956="",_0x3ff50d="",_0x510956;_0x4444ef&&((_0x510956=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("data-row",_0x246ee1),_0x510956.setAttribute("data-column",_0x5d3a2c),_0x510956.setAttribute("stroke","#4c72ff"),void 0!==_0x2a4e44.selectedTiles[_0x246ee1+","+_0x5d3a2c]&&_0x2a4e44.selectedTiles[_0x246ee1+","+_0x5d3a2c]==svgStyle?(_0x510956.setAttribute("class","active"),_0x510956.setAttribute("style","vector-effect:non-scaling-stroke;stroke-width:5px;")):(_0x510956.setAttribute("class",""),_0x510956.setAttribute("style","vector-effect:non-scaling-stroke;stroke-width:2px;")),_0x510956.setAttribute("fill","rgba(76, 114, 255, 0.01)"),_0x4a119e.append(_0x510956));for(i=0;i<rowData[_0x246ee1].tiles[_0x5d3a2c].edges.length;++i){if(_0x9587f5.rotate(rowData[_0x246ee1].tiles[_0x5d3a2c].edges[i].angle*Math.PI/180),(_0x4444ef||1==_0x4b4947.returnPoints)&&(_0x3ff50d=_0x9587f5.getTransform()),"fine"==_0x411033||"hatch"==_0x2a4e44.view||1==_0x4b4947.returnPoints||_0x5a1c7a.edge.exclude.includes(i+1+""))(_0x5a1c7a.edge.exclude.includes(i+1+"")||_0x1f0f3b>0)&&_0x50e09e(0,0,_0x510956,_0x3ff50d),_0x50e09e(round(rowData[_0x246ee1].tiles[_0x5d3a2c].edges[i].edgeLength*_0x13d970,2),0,_0x510956,_0x3ff50d);else{var _0x3a2950=_0x236c32(_0x246ee1,_0x5d3a2c,i,_0x411033),_0xf9e58b=config.edges[_0x553034].lines.outer.scaleX,_0x15d4a0=config.edges[_0x553034].lines.outer.scaleY;if(1==config.edges[_0x553034].allowScale)var _0xf9e58b=_0xf9e58b*_0x5a1c7a.edge.scale,_0x15d4a0=_0x15d4a0*_0x5a1c7a.edge.scale;var _0x5ed194=config.paths[_0x411033].points[_0x3a2950][0],_0x34dfae=round(config.paths[_0x411033].cornerOffset*_0xf9e58b*_0x13d970,2),_0x5e7786=!1,_0x3c0174;for(p=_0x3a2950;(config.paths[_0x411033].points[p%_0x422aa6][0]-_0x5ed194+Math.floor(p/config.paths[_0x411033].points.length)*_0x1ab2e9)*_0xf9e58b*_0x13d970+2*_0x34dfae<rowData[_0x246ee1].tiles[_0x5d3a2c].edges[i].edgeLength*_0x13d970;++p){_0x5e7786=!0;var _0x4f5e87=round(parseFloat((config.paths[_0x411033].points[p%_0x422aa6][0]-_0x5ed194+Math.floor(p/config.paths[_0x411033].points.length)*_0x1ab2e9)*_0xf9e58b*_0x13d970+_0x34dfae),2),_0x3c0174=round(parseFloat(config.paths[_0x411033].points[p%_0x422aa6][1]*_0x15d4a0*_0x13d970),2),_0x129105=!1;void 0!==rowData[_0x246ee1].tiles[_0x5d3a2c].edges[i].type&&(_0x129105=rowData[_0x246ee1].tiles[_0x5d3a2c].edges[i].type),p==_0x3a2950&&"arc"!==_0x129105?_0x50e09e(_0x34dfae,_0x34dfae,_0x510956,_0x3ff50d):(config.paths[_0x411033].points[(p+1)%_0x422aa6][0],Math.floor(p/config.paths[_0x411033].points.length),rowData[_0x246ee1].tiles[_0x5d3a2c].edges[i].edgeLength,_0x50e09e(_0x4f5e87,_0x3c0174,_0x510956,_0x3ff50d))}if(!_0x5e7786)if(i%2==0)_0x50e09e(0,_0x3c0174=round(config.paths[_0x411033].points[_0x3a2950][1]*_0x15d4a0*_0x13d970,2),i,_0x510956,_0x3ff50d)}_0x9587f5.translate(rowData[_0x246ee1].tiles[_0x5d3a2c].edges[i].edgeLength*_0x13d970,0)}_0x4444ef&&_0x510956.setAttribute("d",_0x510956.getAttribute("d")+" Z"),_0x9587f5.closePath(),_0x9587f5.restore(),1==_0x4b4947.returnPoints&&_0x1fb4ba&&!isClone&&_0x12d282.push(_0x37fb3a),!isClone&&_0x1fb4ba&&_0x457e29.push(_0x246ee1+","+_0x5d3a2c),config.perf.edgeClip+=performance.now()-_0x372ea9}function _0x36f98b(_0x44762e,_0x9eec45,_0x57105a,_0x4fcdb5){var _0x37b870=performance.now();let _0x39ae6c=rowData[_0x44762e].tiles[_0x9eec45];var _0x4c4e07=_0x39ae6c.style;function _0x57166d(){var _0x5a8e81=[];if(_0x2a4e44.fadeEdges)return!0;if(_0x4fcdb5)return!0;if(_0x4c4e07.hasOwnProperty("edges"))for(const[_0x41a7e4,_0xdba1a3]of Object.entries(_0x4c4e07.edges))_0x5a8e81.push("string"==typeof _0xdba1a3.profile?config.edges[_0x2fbea2]:_0xdba1a3.profile);_0x4c4e07.hasOwnProperty("edge")&&_0x5a8e81.push("string"==typeof _0x4c4e07.edge.profile?config.edges[_0x2fbea2]:_0x4c4e07.edge.profile);for(const[_0x496693,_0x12cd76]of Object.entries(_0x5a8e81))return!(!_0x12cd76||!_0x12cd76.hasOwnProperty("displacement"))}if(_0x57166d()){_0x57105a.save();var _0x34aa39=1,_0x223013=getBounds(rowData[_0x44762e].tiles[_0x9eec45].edges),_0x5d177f=_0x223013.width,_0x565112=_0x223013.height,_0x25fa83=_0x5d177f<=_0x565112?_0x5d177f/2*_0x13d970:_0x565112/2*_0x13d970;let _0x34c0db=[];if(_0x4fcdb5&&_0x4fcdb5.hasOwnProperty("edges")&&Array.isArray(_0x4fcdb5.edges))for(i=1;i<=_0x39ae6c.edges.length;++i)_0x4fcdb5.edges.includes(i)||_0x34c0db.push(i);else _0x4c4e07.edge.hasOwnProperty("exclude")&&_0x4c4e07.edge.exclude.forEach((function(_0x1b5416){_0x34c0db.push(parseInt(_0x1b5416))}));function _0x42aef3(_0x216d22){if("depthTop"==_0x216d22||1===_0x216d22)return value=_0x4c4e07.depthTop,"rgb("+value+","+value+","+value+")";if("depthBottom"==_0x216d22||0===_0x216d22)return value=_0x4c4e07.depthBottom,"rgb("+value+","+value+","+value+")";if("number"==typeof _0x216d22){var _0x14a5aa,_0x223650=(_0x4c4e07.depthTop-_0x4c4e07.depthBottom)*_0x216d22;return _0x4c4e07.depthBottom+_0x223650}return _0x216d22}var _0x51daa0=[];for(i=0;i<rowData[_0x44762e].tiles[_0x9eec45].edges.length;++i){var _0x1966c0=_0x2a4e44.fadeEdges?config.edges.chamfer:_0x4c4e07.hasOwnProperty("edges")&&_0x4c4e07.edges.hasOwnProperty(i+1)?"string"==typeof _0x4c4e07.edges[i+1].profile?config.edges[_0x2fbea2]:_0x4c4e07.edges[i+1].profile:"string"==typeof _0x4c4e07.edge.profile?config.edges[_0x2fbea2]:_0x4c4e07.edge.profile,_0x5b330b=_0x2a4e44.fadeEdges?_0x2a4e44.fadeEdges:_0x4c4e07.hasOwnProperty("edges")&&_0x4c4e07.edges.hasOwnProperty(i+1)?_0x4c4e07.edges[i+1].width*_0x13d970:_0x4c4e07.edge.width*_0x13d970;if(_0x4fcdb5&&(_0x5b330b=_0x4fcdb5.size*_0x13d970),_0x5b330b>_0x25fa83&&(_0x5b330b=_0x25fa83),0!=_0x1966c0.allowWidth||_0x4fcdb5)var _0x34aa39=1;else var _0x34aa39=_0x4c4e07.edge.scale,_0x5b330b=_0x1966c0.width*_0x13d970*_0x34aa39;var _0x53f52a=unlap(i-1,_0x39ae6c.edges.length),_0x37f543=unlap(i+1,_0x39ae6c.edges.length),_0x17a820=_0x34c0db.includes(_0x53f52a+1)?1:2,_0x438242=_0x34c0db.includes(_0x37f543+1)?1:2,_0x348953=360-(_0x39ae6c.edges[_0x39ae6c.edges.length-1].direction-_0x39ae6c.edges[0].direction),_0x2f1694=0==i?(180-_0x348953)/_0x17a820:(i,rowData[_0x44762e].tiles[_0x9eec45].edges.length,(180-rowData[_0x44762e].tiles[_0x9eec45].edges[i].angle)/_0x17a820),_0x43d6a3=0==i?(180-rowData[_0x44762e].tiles[_0x9eec45].edges[i+1].angle)/_0x438242:i==rowData[_0x44762e].tiles[_0x9eec45].edges.length-1?(180-_0x348953)/_0x438242:(180-rowData[_0x44762e].tiles[_0x9eec45].edges[i+1].angle)/_0x438242,_0x890aed=90==_0x2f1694?0:_0x5b330b/Math.tan(_0x2f1694*(Math.PI/180)),_0x10a821=90==_0x43d6a3?0:_0x5b330b/Math.tan(_0x43d6a3*(Math.PI/180)),_0xa5c9a7=_0x1966c0.hasOwnProperty("lines")&&_0x1966c0.lines.hasOwnProperty("inner")?_0x1966c0.lines.inner.path:"fine",_0x1e0feb=_0x1966c0.hasOwnProperty("lines")&&_0x1966c0.lines.hasOwnProperty("inner")?_0x1966c0.lines.inner.scaleX*_0x13d970*_0x34aa39:1,_0x4894ae=_0x1966c0.hasOwnProperty("lines")&&_0x1966c0.lines.hasOwnProperty("inner")?_0x1966c0.lines.inner.scaleY*_0x13d970*_0x34aa39:1;if(_0x51daa0.push({}),_0x57105a.rotate(rowData[_0x44762e].tiles[_0x9eec45].edges[i].angle*Math.PI/180),_0x4c4e07.hasOwnProperty("edges")&&_0x4c4e07.edges.hasOwnProperty(i+1)||!_0x4c4e07.hasOwnProperty("edges")&&!_0x34c0db.includes(i+1)||_0x2a4e44.fadeEdges||_0x4fcdb5&&!_0x34c0db.includes(i+1)){_0x57105a.beginPath();var _0x412f23,_0xe8da29,_0x20e131={start:{x:_0x890aed<0||_0x1966c0.hasOwnProperty("direction")&&"both"==_0x1966c0.direction||_0x4fcdb5?_0x890aed:0,y:_0x5b330b},end:{x:_0x10a821<0||_0x1966c0.hasOwnProperty("direction")&&"both"==_0x1966c0.direction||_0x4fcdb5?rowData[_0x44762e].tiles[_0x9eec45].edges[i].edgeLength*_0x13d970-_0x10a821:rowData[_0x44762e].tiles[_0x9eec45].edges[i].edgeLength*_0x13d970,y:_0x5b330b},scaleX:_0x1e0feb,scaleY:_0x4894ae,pathName:_0xa5c9a7,pathOffset:_0x236c32(_0x44762e,_0x9eec45,i,_0xa5c9a7)};if(_0x3cf5f7(_0x20e131,_0x57105a),_0x1966c0.hasOwnProperty("displacement")&&_0x1966c0.displacement.hasOwnProperty("inset")&&(_0x20e131.start.x=_0x890aed,_0x20e131.end.x=rowData[_0x44762e].tiles[_0x9eec45].edges[i].edgeLength*_0x13d970-_0x10a821,_0x51daa0[i]=_0x20e131),_0x57105a.lineTo(rowData[_0x44762e].tiles[_0x9eec45].edges[i].edgeLength*_0x13d970+1,-1),_0x57105a.lineTo(-1,-1),_0x57105a.closePath(),_0x4fcdb5){let _0x5028ed=_0x57105a.createLinearGradient(0,0,0,_0x5b330b);_0x4fcdb5.stops.forEach((function(_0x239296){_0x5028ed.addColorStop(_0x239296[0],_0x239296[1])})),_0x57105a.fillStyle=_0x5028ed,_0x57105a.fill()}else if(1==_0x2a4e44.showEdgeDepth){_0x57105a.globalCompositeOperation=_0x2a4e44.fadeEdges?"destination-out":"darken",_0x57105a.globalAlpha=1;let _0x4dd33f=_0x57105a.createLinearGradient(0,0,0,_0x5b330b);_0x2a4e44.fadeEdges?(_0x4dd33f.addColorStop(0,"black"),_0x4dd33f.addColorStop(1,"rgba(0,0,0,0)"),_0x57105a.fillStyle=_0x4dd33f):_0x1966c0.hasOwnProperty("profilePath")?(pointsToGradient(),_0x57105a.fillStyle=_0x4dd33f):_0x1966c0.displacement.hasOwnProperty("gradient")?(_0x518d82(_0x4c4e07,_0x4dd33f,_0x1966c0.displacement.gradient),_0x57105a.fillStyle=_0x4dd33f):_0x57105a.fillStyle=_0x42aef3(_0x1966c0.displacement.fill),_0x57105a.fill()}}_0x57105a.translate(rowData[_0x44762e].tiles[_0x9eec45].edges[i].edgeLength*_0x13d970,0)}if(_0x57105a.restore(),!_0x4fcdb5&&_0x1966c0.hasOwnProperty("displacement")&&_0x1966c0.displacement.hasOwnProperty("inset")){for(_0x57105a.save(),_0x57105a.beginPath(),i=0;i<rowData[_0x44762e].tiles[_0x9eec45].edges.length;++i)_0x57105a.rotate(rowData[_0x44762e].tiles[_0x9eec45].edges[i].angle*Math.PI/180),_0x34c0db.includes(i+1)?_0x57105a.lineTo(rowData[_0x44762e].tiles[_0x9eec45].edges[i].edgeLength*_0x13d970,0):_0x3cf5f7(_0x51daa0[i],_0x57105a),_0x57105a.translate(rowData[_0x44762e].tiles[_0x9eec45].edges[i].edgeLength*_0x13d970,0);_0x57105a.closePath(),_0x57105a.fillStyle=_0x42aef3(_0x1966c0.displacement.inset),_0x57105a.fill(),_0x57105a.restore()}}config.perf.edgeProfile+=performance.now()-_0x37b870}function _0x4fefd4(_0x18526f,_0x4d64d0,_0x5e3751,_0x3bdcb3,_0x596315,_0x34e83c,_0x48c203,_0x4e8cee,_0x159d55){var _0x929b7b=rowData[_0x18526f].tiles[_0x4d64d0].style;let _0x9b1d8e=rowData[_0x18526f].tiles[_0x4d64d0];var _0x1e2c0d=_0x929b7b.materialId,_0x333904=!(!config.materials[_0x929b7b.materialId]||!config.materials[_0x929b7b.materialId].texture_sources[0].hasOwnProperty(_0x4e8cee+"_map_img"));let _0x11bdf5=0;function _0x5832a8(_0x16d6d0){let _0x52325d=config.materials[_0x1e2c0d];var _0x3f8ebe=_0x929b7b.tagFilters?_0x52325d.texture_sources.filter(_0x2e5e7a=>_0x2e5e7a.tags.includesAny(_0x929b7b.tagFilters)):config.materials[_0x1e2c0d].texture_sources;if(_0x52325d.has_set_positions||_0x3f8ebe.some(_0x5457fd=>_0x5457fd.hasOwnProperty("row_position"))||_0x3f8ebe.some(_0x221a5d=>_0x221a5d.hasOwnProperty("column_position"))){if(_0x52325d.has_set_positions=!0,!_0x52325d.total_columns||!_0x52325d.total_rows){let _0x290c38=_0x3f8ebe.find(_0x11ee46=>_0x11ee46.hasOwnProperty("total_columns")).total_columns,_0x4fdc20=_0x3f8ebe.find(_0x2f0df8=>_0x2f0df8.hasOwnProperty("total_rows")).total_rows;_0x52325d.total_columns=_0x4fdc20||2,_0x52325d.total_rows=_0x290c38||2}let _0x2e5854=_0x4d64d0%_0x52325d.total_columns+1,_0x477afd=_0x18526f%_0x52325d.total_rows+1,_0x1768a1=_0x3f8ebe.find(_0x1e5cab=>_0x1e5cab.row_position==_0x477afd&&_0x1e5cab.column_position==_0x2e5854);if(_0x1768a1)return _0x1768a1}else _0x52325d.has_set_positions=!1;var _0x736d8d=_0x16d6d0?parseInt(1e4*Math.random()):_0xd0cc1c;if(_0x11bdf5++,!(_0x11bdf5>20||0==_0x3f8ebe.length)){var _0x693dc2,_0x49438f=_0x3f8ebe[parseInt(_0xfc878(_0x18526f+""+_0x4d64d0+_0x736d8d)*_0x3f8ebe.length)];return 0==_0x49438f.texture_map_img.width?_0x5832a8(!0):_0x49438f}drawError("No suitable source images found")}var _0x2a9de2=_0x5832a8();_0x9b1d8e.tileSource=_0x2a9de2;let _0x106ef8=_0x2a9de2.hasOwnProperty(_0x4e8cee+"_map_img")?_0x2a9de2[_0x4e8cee+"_map_img"]:_0x929b7b.hasOwnProperty(_0x4e8cee+"Image")&&"sobel"===_0x929b7b[_0x4e8cee+"Image"]?_0x6df5ff(_0x2a9de2):_0x2a9de2.texture_map_img;var _0x49777=_0x106ef8.width/_0x929b7b.materialWidth;if(1==_0x929b7b.rotate)var _0x530869=_0x375eb4?_0x322d66:Math.floor(_0x34e83c*_0x49777),_0x595979=_0x375eb4?_0x29237d:Math.floor(_0x48c203*_0x49777),_0x4c5dd0=_0x48c203,_0x48c203=_0x34e83c,_0x34e83c=_0x4c5dd0;else var _0x530869=_0x375eb4?_0x29237d:Math.floor(_0x48c203*_0x49777),_0x595979=_0x375eb4?_0x322d66:Math.floor(_0x34e83c*_0x49777);var _0x4c0b08=_0x106ef8.width-_0x595979,_0x19eddc=_0x106ef8.height-_0x530869;_0x4c0b08<0&&(_0x4c0b08=0),_0x19eddc<0&&(_0x19eddc=0);var _0x79c7ba=_0x375eb4?0:round(_0xfc878(_0x18526f+""+_0x4d64d0+_0x595a05),5),_0x1c8b52=_0x375eb4?0:round(_0xfc878(_0x595a05+""+_0x18526f+_0x4d64d0),5);if(_0x159d55.save(),_0x159d55.translate(_0x5e3751*_0x13d970,_0x3bdcb3*_0x13d970),_0x159d55.rotate(_0x596315*Math.PI/180),1==_0x929b7b.rotate&&(_0x159d55.translate(0,_0x34e83c*_0x13d970),_0x159d55.rotate(-90*Math.PI/180)),_0x159d55.save(),_0x333904||_0x367486(_0x929b7b,_0x4e8cee,_0x159d55),_0x595979>=_0x106ef8.width||_0x530869>=_0x106ef8.height){config.sourceScaled=!0;var _0x330d44=_0x595979/_0x530869,_0xab2443;_0x330d44>_0x106ef8.width/_0x106ef8.height?(_0x595979=_0x106ef8.width,_0x530869=_0x106ef8.width/_0x330d44,_0x79c7ba=0):(_0x530869=_0x106ef8.height,_0x595979=_0x106ef8.height*_0x330d44,_0x1c8b52=0)}_0x159d55.globalAlpha=_0x929b7b.hasOwnProperty(_0x4e8cee+"Opacity")?_0x929b7b[_0x4e8cee+"Opacity"]:1;var _0x27657f=performance.now();_0x159d55.drawImage(_0x106ef8,roundDown(_0x79c7ba*_0x4c0b08),roundDown(_0x1c8b52*_0x19eddc),_0x595979,_0x530869,0,0,_0x34e83c*_0x13d970,_0x48c203*_0x13d970),config.perf.imageFills+=performance.now()-_0x27657f,_0x159d55.restore(),"color"===_0x4e8cee&&_0x159b4c(_0x34e83c*_0x13d970,_0x48c203*_0x13d970,_0x929b7b,_0x159d55);var _0x2b8b30=_0xfc878(_0x18526f+""+_0x4d64d0+_0x18118b);_0x159d55.globalAlpha=_0x2b8b30*_0x2a4e44.tonalVariation,_0x159d55.globalCompositeOperation="soft-light",_0x159d55.fillStyle=_0x2b8b30<.5?"#000000":"#FFFFFF",_0x159d55.fillRect(0,0,_0x34e83c*_0x13d970,_0x48c203*_0x13d970),_0x159d55.restore()}function _0x1d19c3(_0x1d4e5b,_0x2772a5,_0x5877f0,_0x3e92a4,_0xc34fe8,_0x5aba8e,_0x4097d1,_0x538d91){var _0x351387=rowData[_0x1d4e5b].tiles[_0x2772a5].style;for(const _0x30fec6 of _0x351387.surfaces)if(_0x30fec6.hasOwnProperty("gradient")||_0x30fec6.hasOwnProperty("pathId")){config.displacement.ctx.save(),config.displacement.ctx.translate(_0x5877f0*_0x13d970,_0x3e92a4*_0x13d970),config.displacement.ctx.rotate(_0xc34fe8*Math.PI/180);let _0x346110=90==_0x30fec6.angle?config.displacement.ctx.createLinearGradient(0,0,0,_0x4097d1*_0x13d970):config.displacement.ctx.createLinearGradient(0,0,_0x5aba8e*_0x13d970,0),_0x126a64;_0x518d82(_0x351387,_0x346110,_0x30fec6.hasOwnProperty("gradient")?_0x30fec6.gradient:pointsToGradientObject(config.paths[_0x30fec6.pathId].points)),config.displacement.ctx.fillStyle=_0x346110,config.displacement.ctx.fillRect(0,0,_0x5aba8e*_0x13d970,_0x4097d1*_0x13d970),config.displacement.ctx.restore()}}function _0x347c1a(){if("tile-material-selector"==_0x2a4e44.trigger)for(r=0;r<rowData.length;++r)for(c=0;c<rowData[r].tiles.length;++c)"selected"==rowData[r].tiles[c].materialAssignment&&(delete rowData[r].tiles[c].materialAssignment,delete rowData[r].tiles[c].style),r==_0x2a4e44.selectedTile[0]&&c==_0x2a4e44.selectedTile[1]&&(delete rowData[r].tiles[c].cropLocX,delete rowData[r].tiles[c].cropLocY,delete rowData[r].tiles[c].tileSource);else{if(_0x53a076||_0x4cfb98.includes("frequency"))for(const[_0x1b4615,_0x46db13]of Object.entries(_0x2a4e44.tileStyles))if("random"==_0x46db13.placement)for(r=0;r<rowData.length;++r)for(c=0;c<rowData[r].tiles.length;++c)rowData[r].tiles[c].styleId?Math.random()<_0x46db13.frequency/_0x2a4e44.tileStyles.length&&(rowData[r].tiles[c].styleId=_0x1b4615):Math.random()<_0x46db13.frequency&&(rowData[r].tiles[c].styleId=_0x1b4615);for(r=0;r<rowData.length;++r)for(c=0;c<rowData[r].tiles.length;++c)rowData[r].tiles[c].style=_0x2a4e44.tileStyles[rowData[r].tiles[c].styleId];for(const[_0x65576f,_0x562c57]of Object.entries(_0x2a4e44.tileStyles))if("defined"==_0x562c57.placement){if(hitPatterns=[],Array.isArray(_0x562c57.columnRuleShift))for(columnShift of _0x562c57.columnRuleShift){var _0x1cef9d=_0x4d4232(_0x562c57.rowRules,_0x562c57.rowRuleShift),_0x29f230=_0x4d4232(_0x562c57.columnRules,columnShift);hitPatterns.push([_0x1cef9d,_0x29f230])}else if(Array.isArray(_0x562c57.rowRuleShift))for(rowShift of _0x562c57.rowRuleShift){var _0x1cef9d=_0x4d4232(_0x562c57.rowRules,rowShift),_0x29f230=_0x4d4232(_0x562c57.columnRules,_0x562c57.columnRuleShift);hitPatterns.push([_0x1cef9d,_0x29f230])}else{var _0x1cef9d=_0x4d4232(_0x562c57.rowRules,_0x562c57.rowRuleShift),_0x29f230=_0x4d4232(_0x562c57.columnRules,_0x562c57.columnRuleShift);hitPatterns.push([_0x1cef9d,_0x29f230])}for(r=0;r<rowData.length;++r)for(c=0;c<rowData[r].tiles.length;++c)for(hitPattern of hitPatterns)1==hitPattern[0][r%_0x1cef9d.length]&&1==hitPattern[1][c%_0x29f230.length]&&(rowData[r].tiles[c].style=_0x562c57)}}if(void 0!==_0x2a4e44.selectedTiles)for(const[_0x1aef98,_0x360781]of Object.entries(_0x2a4e44.selectedTiles))if("selection"==_0x2a4e44.tileStyles[_0x360781].placement){var _0x1b8272=_0x1aef98.split(",");void 0!==rowData[_0x1b8272[0]]&&void 0!==rowData[_0x1b8272[0]].tiles[_0x1b8272[1]]&&(rowData[_0x1b8272[0]].tiles[_0x1b8272[1]].style=params.tileStyles[_0x360781],rowData[_0x1b8272[0]].tiles[_0x1b8272[1]].materialAssignment="selected")}for(r=0;r<rowData.length;++r)for(c=0;c<rowData[r].tiles.length;++c)rowData[r].tiles[c].style||(rowData[r].tiles[c].style=_0x2a4e44.tileStyles.a);if(_0x2a4e44.styleOverrides)for(r=0;r<rowData.length;++r)for(c=0;c<rowData[r].tiles.length;++c)for(override of _0x2a4e44.styleOverrides){if(override.rowRules||override.columnRules){override.rowRules||(override.rowRules=[1]),override.columnRules||(override.columnRules=[1]),override.rowRuleShift||(override.rowRuleShift=0),override.columnRuleShift||(override.columnRuleShift=0);var _0x1cef9d=_0x4d4232(override.rowRules,override.rowRuleShift),_0x29f230=_0x4d4232(override.columnRules,override.columnRuleShift);if(1==_0x1cef9d[r%_0x1cef9d.length]&&1==_0x29f230[c%_0x29f230.length])for(const[_0xdcc33f,_0x47380e]of Object.entries(override.params))rowData[r].tiles[c].style=copy(rowData[r].tiles[c].style),rowData[r].tiles[c].style[_0xdcc33f]=_0x47380e}if(override.row&&override.column){if(override.row==r&&override.column==c)for(const[_0xe96181,_0x16a40f]of Object.entries(override.params))rowData[r].tiles[c].style[_0xe96181]=_0x16a40f}else if(override.row){if(override.row==r)for(const[_0x13554d,_0x570884]of Object.entries(override.params))rowData[r].tiles[c].style[_0x13554d]=_0x570884}else if(override.column&&override.column==c)for(const[_0xdd8737,_0x18f048]of Object.entries(override.params))rowData[r].tiles[c].style[_0xdd8737]=_0x18f048}}_0x347c1a();var _0x3e226e=0;function _0x509a4c(_0x311ad5,_0x5c94e3,_0x21173f,_0x3bc7cb,_0x4e380c,_0x383454,_0x527a1e,_0x123c23,_0x30cda2){for(const _0x2be91a of _0x3f75e5){let _0x31916b=config[_0x2be91a].ctx;var _0x51541e=[16,8].includes(_0x2a4e44.patternId)?unlap(_0x21173f,rowData.length):unlap(_0x21173f,_0x26be1b),_0x1dc353=[16,8].includes(_0x2a4e44.patternId)?unlap(_0x3bc7cb,rowData[_0x51541e].tiles.length):unlap(_0x3bc7cb,_0x312c1f);let _0xe404eb=rowData[_0x51541e].tiles[_0x1dc353];_0xe404eb.x=_0x311ad5,_0xe404eb.y=_0x5c94e3;var _0x2d9b70=_0xe404eb.style;let _0x315777=config.edges[_0x2d9b70.edge.profile]?config.edges[_0x2d9b70.edge.profile]:config.edges.fine,_0x5373f1=!!(_0x315777.hasOwnProperty("imageData")||_0x315777.hasOwnProperty("images")||_0x2a4e44.fadeEdges||["multiColor","multiColorUnique"].includes(_0x4b4947.type)),_0x4e2af7=_0x5373f1?config.tileCanvas.ctx:_0x31916b;if(config.tileCanvas.canvas.width=_0x54c5b0.width,config.tileCanvas.canvas.height=_0x54c5b0.height,config.tileCanvas.ctx.translate(100,100),_0x4e2af7.save(),_0x4e2af7.translate(_0x311ad5*_0x13d970,_0x5c94e3*_0x13d970),_0xe404eb.edges||(_0xe404eb.edges=copy(_0x3dcd22)),_0x2a4e44.concaveJoints&&(_0x2d9b70.depthBottom=127),!_0xe404eb.edges[0].hasOwnProperty("direction")){let _0x49051e=_0xe404eb.edges[0].angle;_0xe404eb.edges.forEach((function(_0x32290d,_0x580205){0!==_0x580205&&(_0x49051e+=_0x32290d.angle),_0x32290d.direction=_0x49051e}))}function _0x63a4fb(_0x2f6b4d){let _0x3cfe41=_0x2d9b70.depthBottom+50,_0x2bfe07=_0xfc878(_0x51541e+""+_0x1dc353+_0x12fc9a)*(_0x3cfe41-75)+75,_0x3d3788=shadeToRgb(_0x2bfe07);_0x2f6b4d.filter="drop-shadow(0px 0px "+round(5*_0x13d970)+"px "+_0x3d3788+")",_0x2f6b4d.shadowColor=_0x3d3788,_0x2f6b4d.shadowBlur=10}function _0x540dcc(_0x585e63){_0x585e63.globalAlpha=_0x2a4e44.hasOwnProperty("shadowOpacity")?_0x2a4e44.shadowOpacity:.2,_0x585e63.globalCompositeOperation="multiply",_0x585e63.shadowColor=_0x2a4e44.hasOwnProperty("shadowColor")?_0x2a4e44.shadowColor:"black",_0x585e63.shadowBlur=Math.abs(_0x28423d/2*_0x13d970),_0x585e63.shadowOffsetX=_0x2a4e44.hasOwnProperty("shadowOffsetX")?_0x2a4e44.shadowOffsetX*_0x13d970:0,_0x585e63.shadowOffsetY=_0x2a4e44.hasOwnProperty("shadowOffsetY")?_0x2a4e44.shadowOffsetY*_0x13d970:_0x28423d/2*_0x13d970}var _0x51d113=!(!config.materials[_0x2d9b70.materialId]||!config.materials[_0x2d9b70.materialId].texture_sources[0].hasOwnProperty(_0x2be91a+"_map_img")),_0x527a1e=null==_0x527a1e?0:_0x527a1e,_0x4e380c=null==_0x4e380c?0:_0x4e380c,_0x383454=null==_0x383454?0:_0x383454,_0x123c23=null==_0x123c23?_0x537b4b:_0x123c23,_0x30cda2=null==_0x30cda2?_0x4c59cd:_0x30cda2;if((_0x2d9b70.randomiseFillAngle||_0x2a4e44.randomiseFillAngle)&&config.patterns[_0x2a4e44.patternId].hasOwnProperty("definition"))if(_0xe404eb.fillWidthRandom)_0x527a1e=_0xe404eb.imgAngleRandom,_0x123c23=_0xe404eb.fillWidthRandom,_0x30cda2=_0xe404eb.fillHeightRandom,_0x4e380c=_0xe404eb.fillOffsetXRandom,_0x383454=_0xe404eb.fillOffsetYRandom;else{_0x527a1e=180*Math.random();let _0xde6319=tileBounds(_0xe404eb,_0x527a1e);_0x123c23=_0xde6319.width,_0x30cda2=_0xde6319.height;var _0x4099e9=trueOffset(_0xde6319.offsetX,_0xde6319.offsetY,_0x527a1e);_0x4e380c=_0x4099e9.x,_0x383454=_0x4099e9.y,_0xe404eb.imgAngleRandom=_0x527a1e,_0xe404eb.fillWidthRandom=_0x123c23,_0xe404eb.fillHeightRandom=_0x30cda2,_0xe404eb.fillOffsetXRandom=_0x4e380c,_0xe404eb.fillOffsetYRandom=_0x383454}var _0x734d4b=_0x2d9b70.imgType;if("hatch"===_0x2be91a)_0x5965f9(_0x51541e,_0x1dc353,!1,!0,_0x2be91a,_0x4e2af7),_0x4e2af7.lineWidth=_0x2a4e44.lineThickness,_0x4e2af7.fillStyle="#eeeeee",_0x4e2af7.fill(),_0x4e2af7.lineWidth=3.5,_0x4e2af7.lineJoin="round",_0x4e2af7.lineCap="round",_0x4e2af7.strokeStyle=1==_0x2a4e44.showPatternHatch?"#999999":"#eeeeee",_0x4e2af7.stroke();else{if(_0x4e2af7.save(),_0x5965f9(_0x51541e,_0x1dc353,regenSvg,!0,_0x2be91a,_0x4e2af7),!_0x315777.hasOwnProperty("images")&&!_0x315777.hasOwnProperty("imageData")&&(["displacement","bump"].includes(_0x2be91a)&&_0x2a4e44.concaveJoints&&(_0x4e2af7.save(),_0x63a4fb(_0x4e2af7),_0x4e2af7.fillStyle=shadeToRgb(_0x2d9b70.depthTop),_0x4e2af7.fill(),_0x4e2af7.restore()),"color"===_0x2be91a&&!1!==_0x2a4e44.recessJoints)){var _0x1c4956=performance.now();_0x4e2af7.save(),_0x540dcc(_0x4e2af7),_0x4e2af7.fillStyle=_0x2d9b70.tileTint,_0x4e2af7.fill(),_0x4e2af7.restore(),config.perf.shadows+=performance.now()-_0x1c4956}if(_0x4e2af7.clip(),["roughness","metalness","bump","displacement"].includes(_0x2be91a)){if(_0x4e2af7.fillStyle="displacement"===_0x2be91a||"bump"===_0x2be91a?shadeToRgb(_0x2d9b70.depthTop):"#FFFFFF",_0x4e2af7.fill(),"solid"!==_0x2d9b70.materialId&&(_0x2d9b70[_0x2be91a+"Image"]&&"none"!==_0x2d9b70[_0x2be91a+"Image"]||config.materials[_0x2d9b70.materialId]&&config.materials[_0x2d9b70.materialId].texture_sources[0].hasOwnProperty(_0x2be91a+"_map_img"))&&"texture"!==_0x2a4e44.view&&"svg"!==_0x2a4e44.view&&"scene"!==_0x2a4e44.view&&_0x4fefd4(_0x51541e,_0x1dc353,_0x4e380c,_0x383454,_0x527a1e,_0x123c23,_0x30cda2,_0x2be91a,_0x4e2af7),!_0x51d113){_0x4e2af7.save(),_0x2d9b70[_0x2be91a+"Image"]&&(_0x4e2af7.globalCompositeOperation="multiply");var _0x36597f=_0x2d9b70[_0x2be91a]?shadeToRgb(255*_0x2d9b70[_0x2be91a]):"metalness"===_0x2be91a?shadeToRgb(0):shadeToRgb(229.5);_0x4e2af7.fillStyle=_0x36597f,_0x4e2af7.fill(),_0x4e2af7.restore()}}else"solid"===_0x734d4b?(_0x4e2af7.fillStyle=_0x2d9b70.tint,_0x4e2af7.fill()):_0x4fefd4(_0x51541e,_0x1dc353,_0x4e380c,_0x383454,_0x527a1e,_0x123c23,_0x30cda2,_0x2be91a,_0x4e2af7);if(_0x2d9b70.hasOwnProperty("surfaces")&&_0x1d19c3(_0x51541e,_0x1dc353,_0x4e380c,_0x383454,_0x527a1e,_0x123c23,_0x30cda2,_0x4e2af7),["bump","displacement"].includes(_0x2be91a)&&_0x2d9b70.hasOwnProperty("profile")&&_0x2d9b70.profile.hasOwnProperty("pathId")){var _0x3b69c8=_0x2d9b70.profile;profileGradients[_0x3b69c8.pathId]||(profileGradients[_0x3b69c8.pathId]=pointsToGradientObject(config.paths[_0x3b69c8.pathId].points,_0x3b69c8.reps?_0x3b69c8.reps:6));var _0x2d77d5=_0x3b69c8.hasOwnProperty("gradient")?_0x3b69c8.gradient:profileGradients[_0x3b69c8.pathId];_0x4e2af7.save(),_0x4e2af7.translate(_0x4e380c*_0x13d970,_0x383454*_0x13d970),_0x4e2af7.rotate(_0x527a1e*Math.PI/180);let _0x440a06=90==_0x3b69c8.angle?config[_0x2be91a].ctx.createLinearGradient(0,0,0,_0x30cda2*_0x13d970):config[_0x2be91a].ctx.createLinearGradient(0,0,_0x123c23*_0x13d970,0);_0x518d82(_0x2d9b70,_0x440a06,_0x2d77d5),_0x4e2af7.fillStyle=_0x440a06,_0x4e2af7.fillRect(0,0,_0x123c23*_0x13d970,_0x30cda2*_0x13d970),_0x4e2af7.restore()}if(["bump","displacement"].includes(_0x2be91a)&&_0x2d9b70.hasOwnProperty("finish")&&_0x2d9b70.finish.hasOwnProperty("heightmapId")){let _0x207a70=config.heightmaps[_0x2d9b70.finish.heightmapId].imageElement;config.heightmaps[_0x2d9b70.finish.heightmapId].pattern||(config.heightmaps[_0x2d9b70.finish.heightmapId].pattern={},config.heightmaps[_0x2d9b70.finish.heightmapId].pattern.displacement=config.displacement.ctx.createPattern(_0x207a70,"repeat"),config.heightmaps[_0x2d9b70.finish.heightmapId].pattern.bump=config.bump.ctx.createPattern(_0x207a70,"repeat"));let _0x21db9a=config.heightmaps[_0x2d9b70.finish.heightmapId].pattern[_0x2be91a];_0x4e2af7.save(),_0x4e2af7.translate(_0x4e380c*_0x13d970,_0x383454*_0x13d970),_0x4e2af7.rotate(_0x527a1e*Math.PI/180);var _0xdeb5e=_0x2d9b70.finish.hasOwnProperty("width")?_0x2d9b70.finish.width*_0x13d970/_0x207a70.width:1,_0x4c2125=_0xdeb5e;if(17===_0x2a4e44.patternId){var _0xa696ea=Math.round(_0x537b4b/_0x2d9b70.finish.width),_0x364f5f=Math.round(_0x4c59cd/(_0x2d9b70.finish.width*(_0x207a70.height/_0x207a70.width)));_0xa696ea<1&&(_0xa696ea=1),_0x364f5f<1&&(_0x364f5f=1);var _0x4736ec=_0x2a4e44.inches?inchesToMm(_0x537b4b)/_0xa696ea:_0x537b4b/_0xa696ea,_0x542071=_0x2a4e44.inches?inchesToMm(_0x4c59cd)/_0xa696ea:_0x4c59cd/_0xa696ea;_0xdeb5e=_0x4736ec*_0x13d970/_0x207a70.width,_0x4c2125=_0x542071*_0x13d970/_0x207a70.height}cropX=_0xfc878(_0x51541e+""+_0x1dc353+_0x2a4e44.randFinishCrop)*_0x207a70.width*_0xdeb5e,cropY=_0xfc878(_0x2a4e44.randFinishCrop+""+_0x51541e+_0x1dc353)*_0x207a70.height*_0x4c2125,patternFill(_0x4e2af7,_0x21db9a,0,0,_0x123c23*_0x13d970,_0x30cda2*_0x13d970,cropX,cropY,_0xdeb5e,_0x4c2125),_0x4e2af7.restore()}function _0x3a5c6c(_0xffbc5e,_0xce5905,_0x1000f5){var _0xb6795f=!1;for(i=0;i<rowData[_0xffbc5e].tiles[_0xce5905].edges.length;++i){let _0x1ac33e=rowData[_0xffbc5e].tiles[_0xce5905].edges,_0xecb819=_0x1ac33e[i],_0x41d152=i<_0x1ac33e.length-1?_0x1ac33e[i+1]:_0x1ac33e[0],_0x4fdd94=i>0?_0x1ac33e[i-1]:_0x1ac33e[_0x1ac33e.length-1],_0xdf4755=_0x2d9b70.edge.width*_0x13d970,_0x287981=_0xecb819.edgeLength*_0x13d970,_0xf2929e=0===i?direction360(direction180(_0xecb819.direction-_0x4fdd94.direction)):direction360(_0xecb819.direction-_0x4fdd94.direction),_0x1574cb=i===_0x1ac33e.length-1?direction360(direction180(_0x41d152.direction-_0xecb819.direction)):direction360(_0x41d152.direction-_0xecb819.direction),_0x3b1f2d=(180-_0xf2929e)/2,_0x1d4d6a=(180-_0x1574cb)/2,_0x36bb37=_0xdf4755/Math.tan(_0x3b1f2d*(Math.PI/180)),_0x40d63b=_0xdf4755/Math.tan(_0x1d4d6a*(Math.PI/180)),_0x533147=-_0xdf4755/Math.tan(direction360(_0xf2929e)*(Math.PI/180)),_0x2dc7eb=-_0xdf4755/Math.tan(direction360(_0x1574cb)*(Math.PI/180)),_0x34a013=_0x3b1f2d<=90&_0x3b1f2d>0?_0x533147:_0x36bb37,_0x8a9fe0=_0x1d4d6a<=90&_0x1d4d6a>0?_0x287981-_0x2dc7eb:_0x287981-_0x40d63b;_0x1000f5.rotate(_0xecb819.angle*Math.PI/180),_0x1000f5.beginPath(),_0x1000f5.lineTo(_0x34a013,_0xdf4755),_0x1000f5.lineTo(_0x8a9fe0,_0xdf4755),_0x1000f5.lineTo(_0x287981+1,-1),_0x1000f5.lineTo(-1,-1),_0x1000f5.closePath(),_0x1000f5.save(),_0x1000f5.clip();let _0x25e5ed=_0xfc878(_0xffbc5e+""+_0xce5905+i+_0x12fc9a),_0x2c336d=parseInt(_0x25e5ed)*_0x315777.imageData.length,_0x25342a=_0x315777.imageData[_0x2c336d],_0x45cbfe=_0x287981;_0x45cbfe+=_0x34a013<0?Math.abs(_0x34a013):0,_0x45cbfe+=_0x8a9fe0>_0x287981?Math.abs(_0x8a9fe0-_0x287981):0;let _0x3cea2f=_0x45cbfe/_0xdf4755,_0x1e705c=_0x25342a.clip_img.height,_0x488155=_0x1e705c*_0x3cea2f,_0x30af95=_0xb6795f||_0x25e5ed*(_0x25342a.clip_img.width-_0x488155);_0xb6795f=_0x30af95+_0x488155;let _0x19921f=_0x34a013<0?_0x34a013:0;function _0x3399e3(){let _0x22dd1d=_0x25342a.clip_img.width-_0xb6795f,_0x1b272b=1*_0x13d970;if(_0x25342a.hasOwnProperty("clip_img")&&(_0x1000f5.globalCompositeOperation="displacement"===_0x2be91a?"source-over":"destination-out",_0x1000f5.drawImage(_0x25342a.clip_img,_0x30af95,0,_0x488155,_0x1e705c,_0x19921f,0,_0x45cbfe,_0xdf4755+_0x1b272b)),"displacement"===_0x2be91a&&_0x25342a.hasOwnProperty("displacement_img")&&(_0x1000f5.globalCompositeOperation="darken",_0x1000f5.drawImage(_0x25342a.displacement_img,_0x30af95,0,_0x488155,_0x1e705c,_0x19921f,0-_0x1b272b,_0x45cbfe,_0xdf4755)),_0x22dd1d<0){let _0x314321=Math.abs(_0x22dd1d)/_0x488155,_0x56fda6;_0x488155*=_0x314321,_0x30af95=0,_0x19921f=_0x34a013+_0x45cbfe*(1-_0x314321)-1,_0x45cbfe*=_0x314321,_0xb6795f=_0x488155,_0x3399e3()}}_0x3399e3(),_0x1000f5.restore(),_0x1000f5.translate(_0xecb819.edgeLength*_0x13d970,0)}}if(_0xc61eb0(_0x51541e,_0x1dc353,_0x2d9b70,_0x4e2af7,_0x2be91a,_0x4e380c,_0x383454,_0x527a1e,_0x123c23,_0x30cda2),("displacement"===_0x2be91a&&_0x2d9b70.displacementEdges||"bump"===_0x2be91a&&_0x2d9b70.bumpEdges||_0x2a4e44.fadeEdges)&&_0x36f98b(_0x51541e,_0x1dc353,_0x4e2af7),_0x315777.hasOwnProperty("imageData")&&_0x315777.hasOwnProperty("lengthBehaviour")&&"proportional"===_0x315777.lengthBehaviour&&_0x3a5c6c(_0x51541e,_0x1dc353,_0x4e2af7),_0x315777.hasOwnProperty("imageData")&&_0x315777.hasOwnProperty("lengthBehaviour")&&"fitWidth"===_0x315777.lengthBehaviour){let _0x512770=_0x315777.defaultScale?_0x315777.defaultScale:1,_0x2f5bcc=_0x2d9b70.edge.scale?_0x2d9b70.edge.scale:1;rowData[_0x51541e].tiles[_0x1dc353].edges.forEach((function(_0x282287,_0x2b48ee){var _0x2d574c=_0xfc878(_0x51541e+""+_0x1dc353+_0x2b48ee+_0x12fc9a);let _0x447eca,_0xb1b02d=_0x315777.imageData[Math.floor(_0x2d574c*_0x315777.imageData.length)].clip_img;_0x4e2af7.rotate(_0x282287.angle*Math.PI/180),_0x4e2af7.save(),_0x4e2af7.globalCompositeOperation="destination-out",_0x4e2af7.drawImage(_0xb1b02d,0,-1,_0x282287.edgeLength*_0x13d970,_0xb1b02d.height*_0x512770*_0x13d970*_0x2f5bcc),_0x4e2af7.restore(),_0x4e2af7.translate(_0x282287.edgeLength*_0x13d970,0)}))}_0x4e2af7.restore(),_0x315777.hasOwnProperty("lengthBehaviour")&&(_0x4e2af7.save(),_0x4e2af7.globalCompositeOperation="destination-in",_0x5965f9(_0x51541e,_0x1dc353,regenSvg,!1,_0x2be91a,_0x4e2af7,1),_0x4e2af7.fill(),_0x4e2af7.clip())}if(_0x4e2af7.restore(),["multiColor","multiColorUnique"].includes(_0x4b4947.type)){var _0x5a54e3=rowData[_0x51541e].tiles[_0x1dc353].hasOwnProperty("color")&&"multiColorUnique"!==_0x4b4947.type?rowData[_0x51541e].tiles[_0x1dc353].color[0]:parseInt(255*Math.random()),_0x9a9737=rowData[_0x51541e].tiles[_0x1dc353].hasOwnProperty("color")&&"multiColorUnique"!==_0x4b4947.type?rowData[_0x51541e].tiles[_0x1dc353].color[1]:parseInt(255*Math.random()),_0x59ce68=rowData[_0x51541e].tiles[_0x1dc353].hasOwnProperty("color")&&"multiColorUnique"!==_0x4b4947.type?rowData[_0x51541e].tiles[_0x1dc353].color[2]:parseInt(255*Math.random());rowData[_0x51541e].tiles[_0x1dc353].hasOwnProperty("color")||(rowData[_0x51541e].tiles[_0x1dc353].color=[_0x5a54e3,_0x9a9737,_0x59ce68]);let _0x107fbd=_0x4e2af7.getImageData(0,0,config.tileCanvas.canvas.width,config.tileCanvas.canvas.height);for(i=0;i<_0x107fbd.data.length;i+=4)_0x107fbd.data[i+3]>0&&(_0x107fbd.data[i+0]=_0x5a54e3,_0x107fbd.data[i+1]=_0x9a9737,_0x107fbd.data[i+2]=_0x59ce68,_0x107fbd.data[i+3]=255);_0x4e2af7.putImageData(_0x107fbd,0,0),_0x31916b.imageSmoothingEnabled=!1}if(_0x31916b.save(),_0x5373f1){if(["displacement","bump"].includes(_0x2be91a)&&_0x2a4e44.concaveJoints&&_0x63a4fb(_0x31916b),"color"===_0x2be91a&&!1!==_0x2a4e44.recessJoints){_0x31916b.save();var _0x1c4956=performance.now();_0x540dcc(_0x31916b),_0x31916b.drawImage(config.tileCanvas.canvas,-100,-100),config.perf.shadows+=performance.now()-_0x1c4956,_0x31916b.restore()}_0x31916b.drawImage(config.tileCanvas.canvas,-100,-100)}_0x31916b.restore(),_0x3e226e++}}function _0x16d4cd(_0x201eae,_0x40b590){_0x201eae+=200,_0x40b590+=200,_0x3f75e5.forEach((function(_0x47a392){config[_0x47a392].canvas.width=roundUp(_0x201eae),config[_0x47a392].canvas.height=roundUp(_0x40b590),config[_0x47a392].ctx.translate(100,100)})),regenSvg&&(_0x4a119e.innerHTML="",_0x4a119e.setAttribute("transform","rotate("+_0x2a4e44.patternRotateAngle+" 0 0)"),_0x4a119e.setAttribute("viewBox","100 100 "+(_0x201eae-200)+" "+(_0x40b590-200)))}var _0x2c82f0=performance.now();if(1===patternName){var _0x29c9c2=1,_0x781ea0=1;for(r=0;r<_0x52fd65+_0x29c9c2;++r)for(c=0;c<_0x136ec9+_0x781ea0;++c)_0x509a4c(_0x4d4f13*c,_0x2a5a38*r,r,c)}if(2===patternName){var _0x29c9c2=1,_0x781ea0=1;for(r=0;r<_0x52fd65+_0x29c9c2;++r)for(c=0;c<_0x136ec9+_0x781ea0;++c)if(1&r)_0x509a4c(_0x4d4f13*c,_0x2a5a38*r,r,c);else{var _0x233522=_0x4d4f13/2;_0x509a4c(_0x4d4f13*c-_0x233522,_0x2a5a38*r,r,c)}}if(4===patternName){var _0x29c9c2=1,_0x781ea0=1,_0x233522=.75*_0x537b4b+_0x404a83;if(_0x16d4cd(_0x4d4f13*(.75*_0x136ec9)*_0x13d970,_0x365020*_0x13d970),_0x9ab134(),_0x53a076)for(r=0;r<rowData.length;++r)for(c=0;c<rowData[r].tiles.length;++c)1&c&&(rowData[r].tiles[c].edges=[{angle:0,edgeLength:(_0x537b4b-_0x404a83)/2},{angle:90,edgeLength:_0x4c59cd},{angle:90,edgeLength:(_0x537b4b-_0x404a83)/2},{angle:90,edgeLength:_0x4c59cd}]);for(_0x347c1a(),r=0;r<_0x52fd65+_0x29c9c2;++r)if(1&r)for(c=0;c<_0x136ec9+_0x781ea0;++c)1&c?_0x509a4c(_0x4d4f13*(.75*(c+1)-.5),_0x2a5a38*r,r,c):_0x509a4c(_0x4d4f13*(.75*c),_0x2a5a38*r,r,c);else for(c=0;c<_0x136ec9+_0x781ea0;++c)1&c?_0x509a4c(_0x4d4f13*(.75*(c+1)-.5)-_0x233522,_0x2a5a38*r,r,c):_0x509a4c(_0x4d4f13*(.75*c)-_0x233522,_0x2a5a38*r,r,c)}if(5===patternName){var _0x29c9c2=1,_0x781ea0=1,_0x233522=.75*_0x537b4b+_0x404a83,_0x9f4494=_0x2a4e44.patternStretchers+1;if(_0x16d4cd(_0x4d4f13*_0x136ec9*_0x13d970,_0x2a5a38*_0x52fd65*_0x13d970),_0x9ab134(),_0x53a076)for(r=0;r<rowData.length;++r)if(Number.isInteger(r/_0x9f4494))for(rowData[r].tiles=new Array(2*_0x136ec9),c=0;c<rowData[r].tiles.length;++c)rowData[r].tiles[c]=new Array,rowData[r].tiles[c].edges=[{angle:0,edgeLength:(_0x537b4b-_0x404a83)/2},{angle:90,edgeLength:_0x4c59cd},{angle:90,edgeLength:(_0x537b4b-_0x404a83)/2},{angle:90,edgeLength:_0x4c59cd}];for(_0x347c1a(),r=0;r<_0x52fd65+_0x29c9c2;++r)if(Number.isInteger(r/_0x9f4494))for(c=0;c<2*_0x136ec9+_0x781ea0;++c)_0x509a4c(_0x4d4f13*(.5*c)-(_0x537b4b/4+_0x404a83/2),_0x2a5a38*r,r,c);else for(c=0;c<_0x136ec9+_0x781ea0;++c)if(1&r)_0x509a4c(_0x4d4f13*c,_0x2a5a38*r,r,c);else{var _0x233522=_0x4d4f13/2;_0x509a4c(_0x4d4f13*c-_0x233522,_0x2a5a38*r,r,c)}}if(3===patternName){var _0x36eac9=(_0x537b4b+_0x4c59cd+_0x404a83)/1.4142,_0x5a8b94=_0x4c59cd/1.4142,_0x490fb4=_0x4d4f13/1.4142,_0xeee004=1.4142*_0x2a5a38;if(_0x537b4b>_0x4c59cd)var _0x29c9c2=parseInt(Math.ceil(_0x36eac9/_0xeee004)),_0x781ea0=1;else var _0x781ea0=20,_0x29c9c2=1;var _0x3eb931=round(_0x490fb4*_0x136ec9,2),_0x524817=round(_0xeee004*_0x52fd65,2),_0x13d970=_0x4e9ea1(_0x3eb931,_0x524817);if(_0x16d4cd(_0x3eb931*_0x13d970,_0x524817*_0x13d970),_0x9ab134(),_0x53a076)for(r=0;r<_0x52fd65;++r)for(c=0;c<_0x136ec9;++c)c%2==0?rowData[r].tiles[c].edges=[{angle:-45,edgeLength:_0x537b4b},{angle:90,edgeLength:_0x4c59cd},{angle:90,edgeLength:_0x537b4b},{angle:90,edgeLength:_0x4c59cd}]:rowData[r].tiles[c].edges=[{angle:45,edgeLength:_0x537b4b},{angle:90,edgeLength:_0x4c59cd},{angle:90,edgeLength:_0x537b4b},{angle:90,edgeLength:_0x4c59cd}];for(c=0;c<_0x136ec9+_0x781ea0;++c)for(r=0;r<_0x52fd65+_0x29c9c2;++r)1&c?_0x509a4c(_0x490fb4*c,_0xeee004*r-_0x490fb4,r,c,0,0,45):_0x509a4c(_0x490fb4*c-_0x5a8b94,_0xeee004*r+_0x36eac9-_0x490fb4,r,c,0,0,-45)}if(6===patternName){var _0x3bbbb3=_0x2a4e44.patternAngle,_0x103f1e=_0x537b4b/Math.cos(_0x3bbbb3*(Math.PI/180)),_0x384499=_0x28423d/Math.cos(_0x3bbbb3*(Math.PI/180)),_0x164a64=Math.cos(_0x3bbbb3*(Math.PI/180))*_0x4c59cd,_0x1c750b=Math.tan(_0x3bbbb3*(Math.PI/180))*_0x537b4b,_0x2637d1=_0x103f1e+_0x164a64,_0x3369d2=Math.cos(_0x3bbbb3*(Math.PI/180))*_0x164a64,_0x49cd23=Math.sin(_0x3bbbb3*(Math.PI/180))*_0x164a64,_0x29c9c2=_0x1c750b/_0x4c59cd,_0x781ea0=2,_0x3eb931=round((_0x537b4b+_0x404a83)*_0x136ec9,2),_0x524817=round((_0x4c59cd+_0x384499)*_0x52fd65,2),_0x13d970=_0x4e9ea1(_0x3eb931,_0x524817);if(_0x16d4cd(_0x3eb931*_0x13d970,_0x524817*_0x13d970),_0x9ab134(),_0x53a076)for(r=0;r<_0x52fd65;++r)for(c=0;c<_0x136ec9;++c)1&c?rowData[r].tiles[c].edges=[{angle:_0x3bbbb3,edgeLength:_0x103f1e},{angle:90-_0x3bbbb3,edgeLength:_0x4c59cd},{angle:90+_0x3bbbb3,edgeLength:_0x103f1e},{angle:90-_0x3bbbb3,edgeLength:_0x4c59cd}]:rowData[r].tiles[c].edges=[{angle:0-_0x3bbbb3,edgeLength:_0x103f1e},{angle:90+_0x3bbbb3,edgeLength:_0x4c59cd},{angle:90-_0x3bbbb3,edgeLength:_0x103f1e},{angle:90+_0x3bbbb3,edgeLength:_0x4c59cd}];for(r=0;r<_0x52fd65+_0x29c9c2;++r)for(c=0;c<_0x136ec9+_0x781ea0;++c)1&c?_0x509a4c(c*(_0x537b4b+_0x404a83),r*(_0x4c59cd+_0x384499)-_0x1c750b,r,c,0,0,_0x3bbbb3,_0x2637d1,_0x4c59cd):_0x509a4c(c*(_0x537b4b+_0x404a83),r*(_0x4c59cd+_0x384499),r,c,-_0x3369d2,_0x49cd23,-_0x3bbbb3,_0x2637d1,_0x4c59cd)}if(7===patternName){var _0x29c9c2=1,_0x781ea0=1;if(_0x53a076)for(r=0;r<_0x52fd65+_0x29c9c2;++r){function _0x37a3cb(_0x1a94d7){var _0x278721=Math.random();if(_0x1a94d7>0&&(Math.abs(rowData[_0x1a94d7-1].rowOffset-_0x278721)<.15||Math.abs(rowData[_0x1a94d7-1].rowOffset-_0x278721)>.85))var _0x278721=_0x37a3cb(_0x1a94d7);if(r+1==_0x52fd65&&(Math.abs(rowData[0].rowOffset-_0x278721)<.15||Math.abs(rowData[0].rowOffset-_0x278721)>.85))var _0x278721=_0x37a3cb(_0x1a94d7);return _0x278721}offsetMultiplier=_0x37a3cb(r),r<_0x52fd65&&(rowData[r].rowOffset=offsetMultiplier)}for(r=0;r<_0x52fd65+_0x29c9c2;++r)for(c=0;c<_0x136ec9+_0x781ea0;++c){if(r+1>_0x52fd65)var _0x2f02bf=r%_0x52fd65,_0x233522=_0x537b4b*rowData[_0x2f02bf].rowOffset;else var _0x233522=_0x537b4b*rowData[r].rowOffset;_0x509a4c(_0x4d4f13*c-_0x233522,_0x2a5a38*r,r,c)}}if(9===patternName){var _0x3a6440=_0x537b4b/2/Math.cos(Math.PI/180*30),_0xda3e1c=Math.cos(Math.PI/180*30)*_0x537b4b,_0x41d7d8=Math.sin(Math.PI/180*30)*_0x537b4b,_0x54e642=Math.sin(Math.PI/180*30)*_0x404a83,_0x570fba=Math.cos(Math.PI/180*30)*_0x404a83,_0x233522=_0xda3e1c+_0x404a83,_0x21ee57=2*(_0xda3e1c+_0x404a83),_0x92edd0=_0x537b4b+_0x41d7d8+2*_0x570fba,_0x2c4b2e={x:-_0x404a83/2,y:_0x570fba},_0x2fdb5c={x:2*_0xda3e1c+_0x404a83/2,y:_0x570fba};if(_0x53a076)for(r=0;r<_0x52fd65;++r)for(c=0;c<_0x136ec9;++c){var _0x1db92a=unlap(c,3);0==_0x1db92a&&(rowData[r].tiles[c].edges=[{angle:-30,edgeLength:_0x537b4b},{angle:60,edgeLength:_0x537b4b},{angle:120,edgeLength:_0x537b4b},{angle:60,edgeLength:_0x537b4b}]),1==_0x1db92a&&(rowData[r].tiles[c].edges=[{angle:30,edgeLength:_0x537b4b},{angle:60,edgeLength:_0x537b4b},{angle:120,edgeLength:_0x537b4b},{angle:60,edgeLength:_0x537b4b}]),2==_0x1db92a&&(rowData[r].tiles[c].edges=[{angle:90,edgeLength:_0x537b4b},{angle:60,edgeLength:_0x537b4b},{angle:120,edgeLength:_0x537b4b},{angle:60,edgeLength:_0x537b4b}])}var _0x3eb931=round(2*(_0xda3e1c+_0x404a83)*(_0x136ec9/3),0),_0x524817=round((_0x537b4b+_0x41d7d8+2*_0x570fba)*_0x52fd65,0),_0x13d970=_0x4e9ea1(_0x3eb931,_0x524817);_0x16d4cd(_0x3eb931*_0x13d970,_0x524817*_0x13d970),_0x9ab134();var _0x3369d2=_0xda3e1c,_0x49cd23=-_0x41d7d8;for(r=0;r<_0x52fd65+1;++r)if(1&r)for(c=0;c<_0x136ec9+3;++c){var _0x1619b0=_0xbe02d1(c,3),_0x1db92a=unlap(c,3);0==_0x1db92a&&_0x509a4c(_0x21ee57*_0x1619b0-_0x233522,_0x92edd0*r,r,c,_0x3369d2,_0x49cd23,30,1.5*_0x537b4b,_0x537b4b),1==_0x1db92a&&_0x509a4c(_0x21ee57*_0x1619b0+_0x2c4b2e.x-_0x233522,_0x92edd0*r+_0x2c4b2e.y,r,c,_0x3369d2,_0x49cd23,30,1.5*_0x537b4b,_0x537b4b),2==_0x1db92a&&_0x509a4c(_0x21ee57*_0x1619b0+_0x2fdb5c.x-_0x233522,_0x92edd0*r+_0x2fdb5c.y,r,c,0,0,90,1.5*_0x537b4b,_0x537b4b)}else for(c=0;c<_0x136ec9+3;++c){var _0x1619b0=_0xbe02d1(c,3),_0x1db92a=unlap(c,3);0==_0x1db92a&&_0x509a4c(_0x21ee57*_0x1619b0,_0x92edd0*r,r,c,0,0,-30,1.5*_0x537b4b,_0x537b4b),1==_0x1db92a&&_0x509a4c(_0x21ee57*_0x1619b0+_0x2c4b2e.x,_0x92edd0*r+_0x2c4b2e.y,r,c,0,0,30,1.5*_0x537b4b,_0x537b4b),2==_0x1db92a&&_0x509a4c(_0x21ee57*_0x1619b0+_0x2fdb5c.x,_0x92edd0*r+_0x2fdb5c.y,r,c,0,0,90,1.5*_0x537b4b,_0x537b4b)}}if(10===patternName){var _0x3a6440=_0x537b4b/2/Math.cos(Math.PI/180*30),_0xda3e1c=Math.cos(Math.PI/180*30)*_0x3a6440,_0x41d7d8=Math.sin(Math.PI/180*30)*_0x3a6440,_0x54e642=Math.sin(Math.PI/180*30)*_0x404a83,_0x570fba=Math.cos(Math.PI/180*30)*_0x404a83,_0x233522=_0xda3e1c+_0x404a83/2,_0x21ee57=2*_0xda3e1c+_0x404a83,_0x92edd0=_0x3a6440+_0x41d7d8+_0x570fba,_0x2c4b2e={x:-_0x404a83/2,y:_0x570fba},_0x2fdb5c={x:2*_0xda3e1c+_0x404a83/2,y:_0x570fba},_0x4c59cd=1.2*_0x537b4b;if(_0x53a076)for(r=0;r<_0x52fd65;++r)for(c=0;c<_0x136ec9;++c)rowData[r].tiles[c].edges=[{angle:-30,edgeLength:_0x3a6440},{angle:60,edgeLength:_0x3a6440},{angle:60,edgeLength:_0x3a6440},{angle:60,edgeLength:_0x3a6440},{angle:60,edgeLength:_0x3a6440},{angle:60,edgeLength:_0x3a6440}];var _0x3eb931=round(_0x21ee57*_0x136ec9,0),_0x524817=round(_0x92edd0*_0x52fd65,0),_0x13d970=_0x4e9ea1(_0x3eb931,_0x524817);for(_0x16d4cd(_0x3eb931*_0x13d970,_0x524817*_0x13d970),_0x9ab134(),r=0;r<_0x52fd65+1;++r)for(c=0;c<_0x136ec9+3;++c)1&r?_0x509a4c(_0x21ee57*c-_0x233522,_0x92edd0*r,r,c,0,-_0x41d7d8):_0x509a4c(_0x21ee57*c,_0x92edd0*r,r,c,0,-_0x41d7d8)}if(8===patternName){var _0x29c9c2=1,_0x781ea0=1,_0x162491=_0x4c59cd;if(_0x53a076){for(r=0;r<_0x52fd65;++r){var _0x233522=Math.floor(_0x27b96*Math.random());rowData[r]={rowWidth:0,rowOffset:_0x233522},rowData[r].tiles=[],rowData[r].rowHeight=Math.floor(Math.random()*(_0x162491-_0x1cea57+1)+_0x1cea57);var _0x584bdb=rowData[r].rowHeight;if(0==r){for(c=0;c<_0x136ec9;++c){var _0x3b09bd=Math.floor(Math.random()*(_0x537b4b-_0x27b96+1)+_0x27b96);rowData[r].tiles[c]={tileWidth:_0x3b09bd},rowData[r].tiles[c].edges=[{angle:0,edgeLength:_0x3b09bd},{angle:90,edgeLength:_0x584bdb},{angle:90,edgeLength:_0x3b09bd},{angle:90,edgeLength:_0x584bdb}],0==c&&(rowData[r].rowWidth=0),rowData[r].tiles[c].xOffset=rowData[r].rowWidth,rowData[r].rowWidth=rowData[r].rowWidth+_0x3b09bd+_0x404a83}rowData[r].cumulativeOffset=0}else for(rowData[r].cumulativeOffset=rowData[r-1].cumulativeOffset+rowData[r-1].rowHeight+_0x28423d,c=0;c<999;++c){if(rowData[0].rowWidth-rowData[r].rowWidth<_0x537b4b){var _0x3b09bd=rowData[0].rowWidth-rowData[r].rowWidth-_0x404a83;rowData[r].tiles[c]={tileWidth:_0x3b09bd},rowData[r].tiles[c].edges=[{angle:0,edgeLength:_0x3b09bd},{angle:90,edgeLength:_0x584bdb},{angle:90,edgeLength:_0x3b09bd},{angle:90,edgeLength:_0x584bdb}],rowData[r].rowWidth=rowData[r].rowWidth+_0x3b09bd+_0x404a83,rowData[r].tiles[c].xOffset=rowData[r].rowWidth-(_0x3b09bd+_0x404a83);break}var _0x3b09bd=Math.floor(Math.random()*(_0x537b4b-_0x27b96+1)+_0x27b96);rowData[r].tiles[c]={tileWidth:_0x3b09bd},rowData[r].tiles[c].edges=[{angle:0,edgeLength:_0x3b09bd},{angle:90,edgeLength:_0x584bdb},{angle:90,edgeLength:_0x3b09bd},{angle:90,edgeLength:_0x584bdb}],rowData[r].rowWidth=rowData[r].rowWidth+_0x3b09bd+_0x404a83,rowData[r].tiles[c].xOffset=rowData[r].rowWidth-(_0x3b09bd+_0x404a83)}}_0x347c1a()}var _0x3eb931=round(rowData[0].rowWidth,0),_0x3d904c=roundDown(rowData.length-1,0),_0x524817=rowData[_0x3d904c].cumulativeOffset,_0x13d970=_0x4e9ea1(_0x3eb931,_0x524817);for(_0x16d4cd(_0x3eb931*_0x13d970,_0x524817*_0x13d970),_0x9ab134(),r=0;r<rowData.length;++r){var _0x11db11=rowData[r].cumulativeOffset;for(c=0;c<rowData[r].tiles.length+_0x29c9c2;++c)if(c>=rowData[r].tiles.length){var _0x4a59fc=c-rowData[r].tiles.length;_0x509a4c(rowData[r].tiles[_0x4a59fc].xOffset+(rowData[r].rowWidth-rowData[r].rowOffset),_0x11db11,r,c)}else _0x509a4c(rowData[r].tiles[c].xOffset-rowData[r].rowOffset,_0x11db11,r,c)}}if(11===patternName){var _0x3e28a5=_0x2a4e44.patternAdditionalInteger1,_0x4c59cd=(_0x537b4b-(_0x3e28a5-1)*_0x404a83)/_0x3e28a5,_0x233522=_0x537b4b+_0x404a83,_0x5a371e=_0x4c59cd+_0x404a83,_0x48490a=3*_0x3e28a5;if(_0x53a076)for(r=0;r<_0x52fd65/_0x3e28a5;++r)for(c=0;c<_0x136ec9;++c){var _0x1db92a=unlap(c,_0x3e28a5),_0x1619b0=_0xbe02d1(c,_0x3e28a5);rowData[r].tiles[c].edges=1&_0x1619b0?[{angle:0,edgeLength:_0x4c59cd},{angle:90,edgeLength:_0x537b4b},{angle:90,edgeLength:_0x4c59cd},{angle:90,edgeLength:_0x537b4b}]:[{angle:0,edgeLength:_0x537b4b},{angle:90,edgeLength:_0x4c59cd},{angle:90,edgeLength:_0x537b4b},{angle:90,edgeLength:_0x4c59cd}]}var _0x3eb931=round(_0x233522*(_0x136ec9/_0x3e28a5),0),_0x524817=round(_0x233522*(_0x52fd65/_0x3e28a5),0),_0x13d970=_0x4e9ea1(_0x3eb931,_0x524817);for(_0x16d4cd(_0x233522*(_0x136ec9/_0x3e28a5)*_0x13d970,_0x233522*(_0x52fd65/_0x3e28a5)*_0x13d970),_0x9ab134(),r=0;r<_0x52fd65/_0x3e28a5+_0x48490a;++r)for(c=0;c<_0x136ec9+_0x48490a;++c){var _0x1db92a=unlap(c,_0x3e28a5),_0x1619b0=_0xbe02d1(c,_0x3e28a5);if(1&r)var _0x54fcf8=2*_0x233522;else var _0x54fcf8=_0x233522;1&_0x1619b0?_0x509a4c(_0x1619b0*_0x233522-_0x54fcf8+_0x5a371e*_0x1db92a,_0x233522*r,r,c,_0x4c59cd,0,90):_0x509a4c(_0x1619b0*_0x233522-_0x54fcf8,_0x233522*r+_0x5a371e*_0x1db92a,r,c)}}if(12===patternName){var _0x29c9c2=2*_0x52fd65+4,_0x781ea0=2*_0x136ec9+4,_0x4d0c54=(_0x537b4b-_0x404a83)/2,_0xf0bc6a=(_0x4c59cd-_0x28423d)/2;if(_0x53a076){for(r=0;r<2*_0x52fd65;++r)for(rowData[r]={},rowData[r].tiles=[],Math.floor(r/2)%2==0?columnsInRow=_0x136ec9:columnsInRow=_0x136ec9/2*3,c=0;c<columnsInRow;++c)rowData[r].tiles[c]={},r%2==0?rowData[r].tiles[c].edges=[{angle:0,edgeLength:_0x537b4b},{angle:90,edgeLength:_0x4c59cd},{angle:90,edgeLength:_0x537b4b},{angle:90,edgeLength:_0x4c59cd}]:rowData[r].tiles[c].edges=[{angle:0,edgeLength:_0x4d0c54},{angle:90,edgeLength:_0xf0bc6a},{angle:90,edgeLength:_0x4d0c54},{angle:90,edgeLength:_0xf0bc6a}];_0x347c1a()}var _0x3eb931=round((2*_0x4d4f13+_0x4d4f13/2)/2*_0x136ec9,0),_0x524817=round((2*_0x2a5a38+_0x2a5a38/2)/2*_0x52fd65,0),_0x13d970=_0x4e9ea1(_0x3eb931,_0x524817);for(_0x16d4cd(_0x3eb931*_0x13d970,_0x524817*_0x13d970),_0x9ab134(),r=0;r<_0x52fd65+_0x29c9c2;++r){var _0x7ebe43=Math.floor(r/2),_0x2acc4c=(_0x2a5a38+_0x2a5a38/2/2)*_0x7ebe43;if(r%2!=0)var _0x4c7ce1=_0x2a5a38;else var _0x4c7ce1=0;for(c=0;c<_0x136ec9+_0x781ea0;++c){if(_0x7ebe43%2==0){var _0x1ee68b=Math.floor(c/2),_0x1b79ad=(2*_0x4d4f13+_0x4d4f13/2)*_0x1ee68b;if(c%2==0)var _0x106c60=_0x1b79ad,_0x1b75eb=_0x2acc4c+_0x4c7ce1;else var _0x106c60=_0x1b79ad+_0x4d4f13,_0x1b75eb=_0x2acc4c-(_0x4c59cd+_0x28423d)/2+_0x4c7ce1}else{var _0x15bfee=_0x4c7ce1+(_0x4c59cd+_0x28423d)/4,_0x1ee68b=Math.floor(c/3),_0x1b79ad=(3*_0x4d4f13-_0x4d4f13/2)*_0x1ee68b-_0x4d4f13/2;if(c%3==0)var _0x106c60=_0x1b79ad,_0x1b75eb=_0x2acc4c+_0x15bfee;else if(c%2==0)var _0x106c60=_0x1b79ad+_0x4d4f13,_0x1b75eb=_0x2acc4c-(_0x4c59cd+_0x28423d)/2+_0x15bfee;else var _0x106c60=_0x1b79ad+2*_0x4d4f13,_0x1b75eb=_0x2acc4c-_0x2a5a38+_0x15bfee}_0x509a4c(_0x106c60-_0x537b4b,_0x1b75eb-_0x4c59cd,r,c)}}}if(13===patternName){var _0x192aae=_0x4c59cd/2,_0x4f6c93=_0x537b4b/2,_0x27cbf1=Math.sqrt(_0x192aae*_0x192aae+_0x4f6c93*_0x4f6c93),_0x3bbbb3=Math.atan(_0x192aae/_0x4f6c93)*(180/Math.PI),_0x1ab8fd=Math.atan(_0x4f6c93/_0x192aae)*(180/Math.PI),_0x2a5a38=(_0x4c59cd+_0x28423d)/2,_0x29c9c2=2,_0x781ea0=2,_0x3eb931=_0x4d4f13*_0x136ec9,_0x524817=_0x2a5a38*_0x52fd65,_0x13d970=_0x4e9ea1(_0x3eb931,_0x524817);if(_0x16d4cd(_0x3eb931*_0x13d970,_0x524817*_0x13d970),_0x9ab134(),_0x53a076)for(r=0;r<_0x52fd65;++r)for(c=0;c<_0x136ec9;++c)rowData[r].tiles[c].edges=[{angle:-_0x3bbbb3,edgeLength:_0x27cbf1},{angle:2*_0x3bbbb3,edgeLength:_0x27cbf1},{angle:2*_0x1ab8fd,edgeLength:_0x27cbf1},{angle:2*_0x3bbbb3,edgeLength:_0x27cbf1}];for(r=-1;r<_0x52fd65+_0x29c9c2;++r)for(c=-1;c<_0x136ec9+_0x781ea0;++c)if(1&r)_0x509a4c(_0x4d4f13*c,_0x2a5a38*r,r,c,0,-_0x4c59cd/2);else{var _0x233522=_0x4d4f13/2;_0x509a4c(_0x4d4f13*c-_0x233522,_0x2a5a38*r,r,c,0,-_0x4c59cd/2)}}if(14===patternName){var _0x4c59cd=0,_0x3f3d00=_0x537b4b/15.2897883525,_0x4d4f13=_0x537b4b+_0x404a83,_0x2a5a38=.866*_0x537b4b+_0x28423d,_0x29c9c2=2,_0x781ea0=2,_0x3eb931=parseInt(_0x4d4f13*_0x136ec9),_0x524817=parseInt(_0x2a5a38*_0x52fd65),_0x13d970=_0x4e9ea1(_0x3eb931,_0x524817);if(_0x16d4cd(_0x3eb931*_0x13d970,_0x524817*_0x13d970),_0x9ab134(),_0x53a076)for(r=0;r<_0x52fd65;++r)for(c=0;c<_0x136ec9;++c)for(rowData[r].tiles[c].edges=[],i=0;i<48;i++)rowData[r].tiles[c].edges.push({angle:7.5,edgeLength:_0x3f3d00,type:"arc"});for(r=0;r<_0x52fd65+_0x29c9c2;++r)for(c=0;c<_0x136ec9+_0x781ea0;++c)if(1&r)_0x509a4c(_0x4d4f13*c-_0x233522,_0x2a5a38*r-_0x537b4b/2,r,c,-_0x537b4b/1.89,0,0,_0x537b4b,_0x537b4b);else{var _0x233522=_0x4d4f13/2;_0x509a4c(_0x4d4f13*c,_0x2a5a38*r-_0x537b4b/2,r,c,-_0x537b4b/1.89,0,0,_0x537b4b,_0x537b4b)}}if(15===patternName){_0x404a83<0&&(_0x404a83=0);var _0x21226d=_0x537b4b+_0x404a83,_0x1142c8=_0x537b4b/2+_0x404a83,_0x1fa130=[0,-(_0x537b4b+_0x404a83)/2],_0x4b3c02=_0x537b4b/2,_0x2a6c19=[(_0x537b4b+_0x404a83)/2,0],_0x2d530b=[_0x537b4b+_0x404a83,-(_0x537b4b+_0x404a83)/2],_0x183257=_0x3d8273(_0x1fa130,_0x1142c8,_0x2a6c19,_0x4b3c02),_0x2c48bb=_0x3d8273(_0x1fa130,_0x1142c8,_0x2d530b,_0x1142c8),_0x3c2b64=_0x3d8273(_0x2a6c19,_0x4b3c02,_0x2d530b,_0x1142c8),_0x24aadd=0;_0x4c59cd>_0x537b4b&&(_0x24aadd=_0x4c59cd-_0x537b4b);var _0x2a5a38=_0x21226d/2+_0x24aadd,_0x29c9c2=2,_0x781ea0=2,_0x3eb931=parseInt(_0x4d4f13*_0x136ec9),_0x524817=parseInt(_0x2a5a38*_0x52fd65),_0x13d970=_0x4e9ea1(_0x3eb931,_0x524817);function _0x197ec(){var _0x19bc86=0;return rowData[r].tiles[c].edges.forEach((function(_0x344e18,_0x390eba){_0x19bc86+=_0x344e18.angle})),_0x19bc86}if(_0x16d4cd(_0x3eb931*_0x13d970,_0x524817*_0x13d970),_0x9ab134(),_0x53a076){var _0x176883=_0x22c9f3(_0x1fa130,_0x183257,_0x2c48bb,10),_0x4817da=_0x22c9f3(_0x2d530b,_0x2c48bb,_0x3c2b64,10),_0x3c1e95=_0x22c9f3(_0x2a6c19,_0x3c2b64,_0x183257,20);for(r=0;r<_0x52fd65;++r)for(c=0;c<_0x136ec9;++c){for(rowData[r].tiles[c].edges=[],i=0;i<10;i++)0==i?rowData[r].tiles[c].edges.push({angle:_0x176883.initialAngle,edgeLength:_0x176883.segmentLength,type:"arc"}):rowData[r].tiles[c].edges.push({angle:-_0x176883.segmentAngle,edgeLength:_0x176883.segmentLength,type:"arc"});var _0x181ddd=_0x197ec(),_0x44a6a6=Math.abs(_0x181ddd-_0x4817da.initialAngle);for(_0x181ddd>_0x4817da.initialAngle&&(_0x44a6a6=-_0x44a6a6),i=0;i<10;i++)0==i?rowData[r].tiles[c].edges.push({angle:_0x44a6a6,edgeLength:_0x4817da.segmentLength,type:"arc"}):rowData[r].tiles[c].edges.push({angle:-_0x4817da.segmentAngle,edgeLength:_0x4817da.segmentLength,type:"arc"});for(_0x24aadd>0&&(_0x181ddd=_0x197ec(),_0x44a6a6=Math.abs(_0x181ddd-90),_0x181ddd>_0x4817da.initialAngle&&(_0x44a6a6=-_0x44a6a6),rowData[r].tiles[c].edges.push({angle:_0x44a6a6,edgeLength:_0x24aadd,type:"arc",lineHatch:!0})),_0x181ddd=_0x197ec(),_0x44a6a6=Math.abs(_0x181ddd-_0x3c1e95.initialAngle),_0x181ddd>_0x3c1e95.initialAngle&&(_0x44a6a6=-_0x44a6a6),i=0;i<20;i++)0==i?rowData[r].tiles[c].edges.push({angle:_0x44a6a6,edgeLength:_0x3c1e95.segmentLength,type:"arc",lineHatch:!0}):rowData[r].tiles[c].edges.push({angle:_0x3c1e95.segmentAngle,edgeLength:_0x3c1e95.segmentLength,type:"arc",lineHatch:!0});_0x24aadd>0&&(_0x181ddd=_0x197ec(),_0x44a6a6=Math.abs(_0x181ddd-270),_0x181ddd>270&&(_0x44a6a6=-_0x44a6a6),rowData[r].tiles[c].edges.push({angle:_0x44a6a6,edgeLength:_0x24aadd,type:"arc"}))}}for(r=0;r<_0x52fd65+_0x29c9c2;++r)for(c=0;c<_0x136ec9+_0x781ea0;++c)if(1&r)_0x509a4c(_0x4d4f13*c-_0x233522,_0x2a5a38*r-_0x537b4b/2,r,c,0,-_0x537b4b/2,0,_0x537b4b,_0x4c59cd);else{var _0x233522=_0x4d4f13/2;_0x509a4c(_0x4d4f13*c,_0x2a5a38*r-_0x537b4b/2,r,c,0,-_0x537b4b/2,0,_0x537b4b,_0x4c59cd)}}if(16===patternName){var _0x477ea5=(_0x537b4b-_0x404a83)/2,_0x5de99b=(_0x4c59cd-_0x28423d)/2,_0x198628=Math.ceil(_0x136ec9/3),_0x41e4e1=Math.ceil(_0x52fd65/3),_0x42a04a=3*_0x537b4b+3*_0x404a83,_0x2c16bc=3*_0x4c59cd+3*_0x28423d,_0x3eb931=_0x42a04a*_0x198628,_0x524817=_0x2c16bc*_0x41e4e1,_0x13d970=_0x4e9ea1(_0x3eb931,_0x524817);_0x16d4cd(_0x3eb931*_0x13d970,_0x524817*_0x13d970),_0x9ab134();var _0x1aee29={square:{edges:[{angle:0,edgeLength:_0x537b4b},{angle:90,edgeLength:_0x4c59cd},{angle:90,edgeLength:_0x537b4b},{angle:90,edgeLength:_0x4c59cd}],boundingBox:{width:_0x537b4b,height:_0x4c59cd}},smallSquare:{edges:[{angle:0,edgeLength:_0x477ea5},{angle:90,edgeLength:_0x5de99b},{angle:90,edgeLength:_0x477ea5},{angle:90,edgeLength:_0x5de99b}],boundingBox:{width:_0x477ea5,height:_0x5de99b}},largePortrait:{edges:[{angle:0,edgeLength:_0x537b4b},{angle:90,edgeLength:_0x4c59cd+_0x5de99b+_0x28423d},{angle:90,edgeLength:_0x537b4b},{angle:90,edgeLength:_0x4c59cd+_0x5de99b+_0x28423d}],boundingBox:{width:_0x537b4b,height:_0x4c59cd+_0x5de99b+_0x28423d}},largeLandscape:{edges:[{angle:0,edgeLength:_0x537b4b+_0x477ea5+_0x404a83},{angle:90,edgeLength:_0x4c59cd},{angle:90,edgeLength:_0x537b4b+_0x477ea5+_0x404a83},{angle:90,edgeLength:_0x4c59cd}],boundingBox:{width:_0x537b4b+_0x477ea5+_0x404a83,height:_0x4c59cd}},smallPortrait:{edges:[{angle:0,edgeLength:_0x477ea5},{angle:90,edgeLength:_0x4c59cd},{angle:90,edgeLength:_0x477ea5},{angle:90,edgeLength:_0x4c59cd}],boundingBox:{width:_0x477ea5,height:_0x4c59cd}},smallLandscape:{edges:[{angle:0,edgeLength:_0x537b4b},{angle:90,edgeLength:_0x5de99b},{angle:90,edgeLength:_0x537b4b},{angle:90,edgeLength:_0x5de99b}],boundingBox:{width:_0x537b4b,height:_0x5de99b}}},_0x4ef721=[{startPosition:{x:0,y:0},shape:_0x1aee29.square},{startPosition:{x:_0x537b4b+_0x404a83,y:_0x5de99b+_0x28423d},shape:_0x1aee29.square},{startPosition:{x:2*(_0x537b4b+_0x404a83),y:_0x5de99b+_0x28423d},shape:_0x1aee29.largePortrait},{startPosition:{x:2*_0x537b4b+3*_0x404a83+_0x477ea5,y:0},shape:_0x1aee29.smallSquare},{startPosition:{x:0,y:_0x4c59cd+_0x28423d},shape:_0x1aee29.smallPortrait},{startPosition:{x:_0x477ea5+_0x404a83,y:_0x4c59cd+_0x28423d},shape:_0x1aee29.smallSquare},{startPosition:{x:_0x477ea5+_0x404a83,y:_0x4c59cd+_0x5de99b+2*_0x28423d},shape:_0x1aee29.square},{startPosition:{x:_0x477ea5+_0x537b4b+2*_0x404a83,y:_0x4c59cd+_0x5de99b+2*_0x28423d},shape:_0x1aee29.smallSquare},{startPosition:{x:_0x477ea5+_0x537b4b+2*_0x404a83,y:_0x4c59cd+2*_0x5de99b+3*_0x28423d},shape:_0x1aee29.smallLandscape},{startPosition:{x:_0x477ea5+2*_0x537b4b+3*_0x404a83,y:_0x4c59cd+2*_0x5de99b+3*_0x28423d},shape:_0x1aee29.square},{startPosition:{x:_0x477ea5+_0x404a83,y:2*_0x4c59cd+_0x5de99b+3*_0x28423d},shape:_0x1aee29.smallSquare},{startPosition:{x:2*_0x477ea5+2*_0x404a83,y:2*_0x4c59cd+_0x5de99b+3*_0x28423d},shape:_0x1aee29.largeLandscape}],_0x2fae30=[];for(r=0;r<_0x41e4e1;r++)for(c=0;c<_0x198628;c++)_0x4ef721.forEach((function(_0x319ad4,_0x55ebed){_0x2fae30.push({startPosition:{x:_0x319ad4.startPosition.x+c*_0x42a04a,y:_0x319ad4.startPosition.y+r*_0x2c16bc},shape:_0x319ad4.shape})}));_0x53a076&&(rowData=[{tiles:[]}],_0x2fae30.forEach((function(_0x26d326,_0x59ec2b){rowData[0].tiles.push({edges:_0x26d326.shape.edges})})),_0x347c1a()),_0x2fae30.forEach((function(_0x327656,_0x3551a1){_0x509a4c(_0x327656.startPosition.x-_0x3eb931,_0x327656.startPosition.y,0,_0x3551a1,0,0,0,_0x327656.shape.boundingBox.width,_0x327656.shape.boundingBox.height),_0x509a4c(_0x327656.startPosition.x,_0x327656.startPosition.y-_0x524817,0,_0x3551a1,0,0,0,_0x327656.shape.boundingBox.width,_0x327656.shape.boundingBox.height),_0x509a4c(_0x327656.startPosition.x,_0x327656.startPosition.y,0,_0x3551a1,0,0,0,_0x327656.shape.boundingBox.width,_0x327656.shape.boundingBox.height)}))}if(config.patterns.hasOwnProperty(patternName)&&config.patterns[patternName].hasOwnProperty("definition")){var _0x4c3d2c=copy(config.patterns[patternName]),_0x54fcf8=_0x42695c/2,_0x38f2d5=_0x537b4b+_0x42695c,_0x4c0d95=_0x3bce2b+_0x42695c,_0x2f9df4=_0x38f2d5/_0x4c3d2c.definition.maxTileWidth,_0x20103e=Math.ceil(_0x2a4e44.columns/_0x4c3d2c.columnMultiple),_0xc41fe3=Math.ceil(_0x2a4e44.rows/_0x4c3d2c.rowMultiple);_0x312c1f=_0x20103e*_0x4c3d2c.definition.tiles.length,_0x26be1b=_0xc41fe3;let _0x47530a=isNaN(_0x4c3d2c.definition.width)?"dynamic":"static";if("dynamic"===_0x47530a){w=_0x38f2d5,h=_0x4c0d95,a=params.patternAngle;var _0x42a04a=eval(_0x4c3d2c.definition.width),_0x2c16bc=eval(_0x4c3d2c.definition.height);_0x2f9df4=1}else var _0x42a04a=_0x4c3d2c.definition.width*_0x2f9df4,_0x2c16bc=_0x4c3d2c.definition.height*_0x2f9df4;var _0x3eb931=round(_0x42a04a*_0x20103e,2),_0x524817=round(_0x2c16bc*_0xc41fe3,2),_0x13d970=_0x4e9ea1(_0x3eb931,_0x524817);_0x16d4cd(_0x3eb931*_0x13d970,_0x524817*_0x13d970),_0x9ab134(),tileHammer=[],_0x4c3d2c.definition.tiles.forEach((function(_0x56bb07,_0x19ff4b){if(_0x56bb07.fillAngle="trueNorth"===_0x4c3d2c.definition.fillAngle?0:"static"===_0x47530a&&_0x56bb07.minBounds&&_0x56bb07.minBounds.hasOwnProperty("angle")?_0x56bb07.minBounds.angle:_0x56bb07.fillAngle,"dynamic"===_0x47530a?(_0x56bb07.x=eval(_0x56bb07.x),_0x56bb07.y=eval(_0x56bb07.y),_0x56bb07.edges.forEach((function(_0x7936b4){_0x7936b4.edgeLength=eval(_0x7936b4.edgeLength),_0x7936b4.direction=eval(_0x7936b4.direction)}))):(_0x56bb07.x*=_0x2f9df4,_0x56bb07.y*=_0x2f9df4,_0x56bb07.edges.forEach((function(_0x354507){_0x354507.edgeLength*=_0x2f9df4}))),0!==_0x42695c){var _0x10d107=_0x42695c/2;_0x1d8146(_0x56bb07,_0x10d107)||tileHammer.unshift(_0x19ff4b)}var _0xafff83=tileBounds(_0x56bb07);_0x56bb07.left=_0xafff83.left,_0x56bb07.top=_0xafff83.top,_0x56bb07.right=_0x56bb07.left+_0xafff83.width,_0x56bb07.bottom=_0x56bb07.top+_0xafff83.height;var _0x2ffb33=tileBounds(_0x56bb07,_0x56bb07.fillAngle);_0x56bb07.fillWidth=_0x2ffb33.width,_0x56bb07.fillHeight=_0x2ffb33.height;var _0x21e2e9=trueOffset(_0x2ffb33.offsetX,_0x2ffb33.offsetY,_0x56bb07.fillAngle);_0x56bb07.fillX=_0x21e2e9.x,_0x56bb07.fillY=_0x21e2e9.y}));for(const _0x463326 of tileHammer)_0x4c3d2c.definition.tiles.splice(_0x463326,1);if(_0x4c3d2c.definition.tiles.forEach((function(_0x531a75){directionToCrank(_0x531a75.edges)})),_0x53a076){for(rowData=[],r=0;r<_0xc41fe3;r++)for(rowData.push({tiles:[]}),c=0;c<_0x20103e;c++)_0x4c3d2c.definition.tiles.forEach((function(_0x2c0d38){rowData[r].tiles.push({x:_0x2c0d38.x+0,y:_0x2c0d38.y+0,edges:_0x2c0d38.edges,fillAngle:_0x2c0d38.fillAngle,fillWidth:_0x2c0d38.fillWidth,fillHeight:_0x2c0d38.fillWidth})}));_0x347c1a()}_0x4c3d2c.definition.tiles.forEach((function(_0x42ed9c,_0x19f83d){for(r=-20;r<_0xc41fe3+20;r++)if(round(r*_0x2c16bc+_0x42ed9c.bottom)>0&&round(r*_0x2c16bc+_0x42ed9c.top)<_0x524817)for(c=-20;c<_0x20103e+20;c++)round(c*_0x42a04a+_0x42ed9c.right)>0&&round(c*_0x42a04a+_0x42ed9c.left)<_0x3eb931&&_0x509a4c(_0x42a04a*c+_0x42ed9c.x,_0x2c16bc*r+_0x42ed9c.y,r,c*_0x4c3d2c.definition.tiles.length+_0x19f83d,_0x42ed9c.fillX,_0x42ed9c.fillY,_0x42ed9c.fillAngle,_0x42ed9c.fillWidth,_0x42ed9c.fillHeight)}))}config.perf.pattern=performance.now()-_0x2c82f0;let _0x58492f=newCanvas();function _0x413a3b(_0x1db710,_0x3b82bf){var _0x27acf4=document.createElement("canvas"),_0x544023=_0x27acf4.getContext("2d");90==_0x3b82bf||270==_0x3b82bf?(_0x27acf4.width=_0x1db710.height,_0x27acf4.height=_0x1db710.width):(_0x27acf4.width=_0x1db710.width,_0x27acf4.height=_0x1db710.height),90==_0x3b82bf&&_0x544023.translate(_0x27acf4.width,0),180==_0x3b82bf&&_0x544023.translate(_0x27acf4.width,_0x27acf4.height),270==_0x3b82bf&&_0x544023.translate(0,_0x27acf4.height),_0x544023.rotate(_0x3b82bf*Math.PI/180),_0x544023.drawImage(_0x1db710,0,0),_0x1db710.width=_0x27acf4.width,_0x1db710.height=_0x27acf4.height,targetCtx=_0x1db710.getContext("2d"),targetCtx.drawImage(_0x27acf4,0,0)}if(_0x3f75e5.forEach((function(_0x3aa0f4){_0x58492f.canvas.width=config[_0x3aa0f4].canvas.width-200,_0x58492f.canvas.height=config[_0x3aa0f4].canvas.height-200,_0x58492f.ctx.drawImage(config[_0x3aa0f4].canvas,100,100,_0x58492f.canvas.width,_0x58492f.canvas.height,0,0,_0x58492f.canvas.width,_0x58492f.canvas.height),config[_0x3aa0f4].canvas.width=_0x58492f.canvas.width,config[_0x3aa0f4].canvas.height=_0x58492f.canvas.height,config[_0x3aa0f4].ctx.drawImage(_0x58492f.canvas,0,0),disposeCanvas(_0x58492f.canvas)})),_0x2a4e44.patternRotateAngle&&(_0x413a3b(config.color.canvas,_0x2a4e44.patternRotateAngle),_0x413a3b(config.displacement.canvas,_0x2a4e44.patternRotateAngle),_0x413a3b(config.bump.canvas,_0x2a4e44.patternRotateAngle),_0x413a3b(config.roughness.canvas,_0x2a4e44.patternRotateAngle),_0x413a3b(config.metalness.canvas,_0x2a4e44.patternRotateAngle)),pxMmRatio=_0x13d970,17===_0x2a4e44.patternId){var _0x21f1bd=_0x3f319b/_0x322d66;_0x3eb931*=_0x2a4e44.inches?_0x21f1bd/25.4:_0x21f1bd,_0x524817*=_0x2a4e44.inches?_0x21f1bd/25.4:_0x21f1bd}if(90==_0x2a4e44.patternRotateAngle||270==_0x2a4e44.patternRotateAngle?(config.textureWidth=_0x524817,config.textureHeight=_0x3eb931):(config.textureWidth=_0x3eb931,config.textureHeight=_0x524817),1==_0x2a4e44.inches)var _0x4f5560=mmToInches(config.textureWidth),_0xb39e3=mmToInches(config.textureHeight),_0x40bfd1="in";else var _0x4f5560=config.textureWidth,_0xb39e3=config.textureHeight,_0x40bfd1="mm";1==_0x4b4947.returnPoints&&(config.tilePoints=_0x12d282),params.displacementOpacity>0&&(config.color.ctx.save(),config.color.ctx.globalCompositeOperation=params.hasOwnProperty("displacementMode")?params.displacementMode:"multiply",config.color.ctx.globalAlpha=params.displacementOpacity,config.color.ctx.drawImage(config.displacement.canvas,0,0),config.color.ctx.restore());let _0x1f4aa7=!_0x2a4e44.hasOwnProperty("ambientLight")||_0x2a4e44.ambientLight;if(config.hasOwnProperty("diffuseStale")||(config.diffuseStale=!1),!0===_0x4b4947.returnPoints||!_0x1f4aa7||_0x2a4e44.fadeEdges)return afterDraw(_0x54c5b0);{var _0x590f2e=config.displacement.canvas.width,_0x2b2ef4=config.displacement.canvas.height;function _0xc99e02(){config.color.ctx.save(),config.color.ctx.globalCompositeOperation="overlay",config.color.ctx.globalAlpha=_0x2a4e44.diffuseOpacity,config.color.ctx.drawImage(config.diffuseMap,0,0,config.color.canvas.width,config.color.canvas.height),config.color.ctx.restore()}if((_0x590f2e>6e3||_0x2b2ef4>6e3)&&(_0x590f2e/=2,_0x2b2ef4/=2,_0x2a4e44.diffuseOpacity=.4),config.diffuseMap&&!0!==config.diffuseStale&&!_0x53a076&&!_0x4cfb98.includesAny(["edge","edges","surface","profile","finish","surfaces","profiles","jointWidthHorizontal","jointWidthVertical","patternRotateAngle","concaveJoints","view","randEdge"]))return _0x3f75e5.includes("color")&&_0xc99e02(),afterDraw(_0x54c5b0);if(!(_0x3f75e5.includes("color")&&"plane"!==_0x2a4e44.view&&"sphere"!==_0x2a4e44.view&&!_0x2d2a76&&_0x2a4e44.diffuseOpacity>0))return config.diffuseStale=!0,afterDraw(_0x54c5b0);_0x450bad(config.displacement.canvas.toDataURL(),_0x590f2e,_0x2b2ef4,20).then((function(_0x4a3355){return config.diffuseMap=_0x4a3355,_0xc99e02(),afterDraw(_0x54c5b0)})),config.diffuseStale=!1}}function _0x29d791(){return new Promise((function(_0x5f28d9,_0x86b447){let _0x474abf=copy(params);_0x474abf.pxSize=280;let _0xa34aaa=_0x507ec0({type:"multiColor",tileTexture:!1,returnCanvas:!0,canvasId:"temp-canvas",params:_0x474abf});_0xa34aaa=mirrorCanvas(_0xa34aaa,"y");let _0x4c8e68=_0xa34aaa.getContext("2d",{willReadFrequently:!0});var _0x376b4c;_0x376b4c="revit"===_0x474abf.hatchApp&&"drafting"===_0x474abf.hatchType?_0x474abf.inches?84/_0x474abf.pxSize:1:_0x474abf.inches?round(mmToInches(config.textureWidth)/_0xa34aaa.width,2):round(config.textureWidth/_0xa34aaa.width,2);let _0x46208c={horizontalActive:!1,verticalActive:!1,rows:[],columns:[],rowDefinitions:[],columnDefinitions:[]};var _0x154c51=_0x4c8e68.getImageData(0,0,_0xa34aaa.width,_0xa34aaa.height);let _0x24ba84=0;for(i=0;i<_0x154c51.data.length;i+=4){let _0x25efb8=Math.floor(i/4/_0xa34aaa.width),_0x4517ae=i/4%_0xa34aaa.width,_0x4f32c4=i-4*_0x154c51.width<0?i-4*_0x154c51.width+_0x154c51.data.length:i-4*_0x154c51.width,_0x2b7ee6=i-4<0?i-4+_0x154c51.data.length:i-4,_0x5499b7=Math.abs(_0x154c51.data[i]-_0x154c51.data[_0x4f32c4])+Math.abs(_0x154c51.data[i+1]-_0x154c51.data[_0x4f32c4+1])+Math.abs(_0x154c51.data[i+2]-_0x154c51.data[_0x4f32c4+2]),_0x406443=Math.abs(_0x154c51.data[i]-_0x154c51.data[_0x2b7ee6])+Math.abs(_0x154c51.data[i+1]-_0x154c51.data[_0x2b7ee6+1])+Math.abs(_0x154c51.data[i+2]-_0x154c51.data[_0x2b7ee6+2]);_0x46208c.rows[_0x25efb8]||(_0x46208c.rows[_0x25efb8]=[]),_0x46208c.columns[_0x4517ae]||(_0x46208c.columns[_0x4517ae]=[]),_0x46208c.rows[_0x25efb8].push(_0x5499b7>5?1:0),_0x46208c.columns[_0x4517ae].push(_0x406443>5?1:0),_0x24ba84++}function _0xe078c(_0xa3eb38,_0x15c03f,_0x181125,_0x16fa6b){_0x15c03f.forEach((function(_0x49b0bd,_0x3086ec){var _0xaa1256={angle:"row"===_0xa3eb38?0:90,x:"row"===_0xa3eb38?0:_0x3086ec,y:"row"===_0xa3eb38?_0x3086ec:0,shift:0,offset:_0x15c03f.length},_0x586d4b=[],_0x5da6f1=0;_0x49b0bd.forEach((function(_0x27d70c,_0x19b90c){0===_0x19b90c?(_0xaa1256.lineStart=0===_0x27d70c?"gap":"dash",_0x586d4b.push(1)):_0x27d70c===_0x49b0bd[_0x19b90c-1]?_0x586d4b[_0x586d4b.length-1]++:_0x586d4b.push(1)}));var _0x233a25=_0x586d4b[0];if("gap"===_0xaa1256.lineStart){var _0x4be1eb;if(1!==_0x586d4b.length)(_0x4be1eb=(_0x586d4b=_0x586d4b.slice(1)).length)%2==0?_0x586d4b[_0x4be1eb-1]+=_0x233a25:_0x586d4b.push(_0x233a25),_0x5da6f1=_0x233a25}else{var _0x4be1eb=_0x586d4b.length,_0x56cd94=_0x586d4b[_0x4be1eb-1];_0x4be1eb%2!=0&&(_0x586d4b[0]+=_0x56cd94,_0x586d4b.pop(),_0x5da6f1=-_0x56cd94)}if(_0x586d4b.length>6){for(var _0x2ee5b6=[];_0x586d4b.length>1;)_0x2ee5b6.push({dashGap:_0x586d4b.splice(0,6)});_0x2ee5b6.forEach((function(_0x25bdf8,_0x414315){for(var _0x3c6ded=0,_0x49b83d=0;_0x49b83d<_0x414315;_0x49b83d++)_0x2ee5b6[_0x49b83d].dashGap.forEach((function(_0x1c6084){_0x3c6ded+=Math.abs(_0x1c6084)}));_0x25bdf8.shift=_0x5da6f1+_0x3c6ded})),_0x2ee5b6.forEach((function(_0x4d56f0,_0x3ca6eb){var _0x2368b3=0;_0x4d56f0.dashGap.forEach((function(_0x51cb86){_0x2368b3+=Math.abs(_0x51cb86)}));var _0x4d1210="row"===_0xa3eb38?_0x16fa6b.width-_0x2368b3:_0x16fa6b.height-_0x2368b3;_0x4d56f0.dashGap[_0x4d56f0.dashGap.length-1]+=_0x4d1210,_0x181125.push({angle:"row"===_0xa3eb38?0:90,x:"row"===_0xa3eb38?_0x4d56f0.shift:_0xaa1256.x,y:"row"===_0xa3eb38?_0xaa1256.y:_0x4d56f0.shift,shift:0,offset:_0x15c03f.length,dashGap:_0x4d56f0.dashGap})}))}else{let _0x39a2cf;_0xaa1256.dashGap=_0x586d4b,_0xaa1256["row"===_0xa3eb38?"x":"y"]=_0x5da6f1,_0x181125.push(_0xaa1256)}}))}_0xe078c("row",_0x46208c.rows,_0x46208c.rowDefinitions,_0xa34aaa),_0xe078c("column",_0x46208c.columns,_0x46208c.columnDefinitions,_0xa34aaa);var _0x56bdc1="";function _0x205ff8(_0x436f32){_0x436f32.forEach((function(_0x1ccd2c,_0x3ef168){if(1!==_0x1ccd2c.dashGap.length){var _0x51494f=[];_0x1ccd2c.dashGap.forEach((function(_0x9bdd9b,_0x2d6aae){_0x2d6aae%2==0?_0x51494f.push(round(_0x9bdd9b*_0x376b4c,2)):_0x51494f.push(round(-_0x9bdd9b*_0x376b4c,2))})),hatchLineParts=[_0x1ccd2c.angle,round(_0x1ccd2c.x*_0x376b4c,2),round(_0x1ccd2c.y*_0x376b4c,2),round(_0x1ccd2c.shift*_0x376b4c,2),round(_0x1ccd2c.offset*_0x376b4c,2),..._0x51494f],_0x56bdc1+=hatchLineParts.join(",")+config.newLine}}))}_0x205ff8(_0x46208c.rowDefinitions),_0x205ff8(_0x46208c.columnDefinitions),_0x5f28d9(_0x56bdc1)}))}function _0x427680(_0x3fb233){var _0xcb1586=[];return _0x3fb233.forEach((function(_0x440c75,_0x16ddf6){_0x440c75.forEach((function(_0x433cc6,_0x3f028b){var _0x2f9bb=_0x3f028b+1;_0x2f9bb>=_0x440c75.length&&(_0x2f9bb=0),_0xcb1586.push([[_0x433cc6.x,_0x433cc6.y],[_0x440c75[_0x2f9bb].x,_0x440c75[_0x2f9bb].y]])}))})),_0xcb1586}function _0x22c9f3(_0x498103,_0xff6132,_0x249c42,_0x531320){var _0x11bfea=distanceBetweenPoints(_0x498103,_0x249c42),_0x1496e2=distanceBetweenPoints(_0xff6132,_0x249c42),_0x41b195=2*Math.asin(_0x1496e2/(2*_0x11bfea)),_0x3576ad=_0x41b195*(180/Math.PI)/_0x531320;if(_0xff6132[0]<_0x249c42[0])var _0x448d69="right";else var _0x448d69="left";var _0x232168=_0x3e8b61(_0x498103,_0xff6132,_0x11bfea,_0x11bfea,_0x41b195/_0x531320,_0x448d69),_0x73109b=distanceBetweenPoints(_0xff6132,_0x232168),_0x3e62e2=distanceBetweenPoints(_0xff6132,_0x232168),_0x1d042b=distanceBetweenPoints(_0xff6132,[_0x232168[0],_0xff6132[1]]),_0x2c095b=Math.acos(_0x1d042b/_0x3e62e2)*(180/Math.PI);return _0xff6132[0]<_0x232168[0]&&_0xff6132[1]>_0x232168[1]?_0x2c095b=-_0x2c095b:_0xff6132[0]>_0x232168[0]&&_0xff6132[1]>_0x232168[1]?_0x2c095b+=180:_0xff6132[0]>_0x232168[0]&&_0xff6132[1]<_0x232168[1]&&(_0x2c095b=180-_0x2c095b),{initialAngle:_0x2c095b,segmentAngle:_0x3576ad,segmentLength:_0x73109b}}function _0x3d8273(_0x3a3364,_0x152fe5,_0xa3554f,_0x465f87){var _0xab9407,_0x1a6e27,_0x3a8850,_0x320a2a,_0x4df170,_0x478500,_0x5ddcbc,_0x5ca8ed,_0x37f397,_0x4245c,_0x445dc7;return _0x1a6e27=_0xa3554f[0]-_0x3a3364[0],_0x3a8850=_0xa3554f[1]-_0x3a3364[1],!((_0x320a2a=Math.sqrt(_0x3a8850*_0x3a8850+_0x1a6e27*_0x1a6e27))>_0x152fe5+_0x465f87)&&(!(_0x320a2a<Math.abs(_0x152fe5-_0x465f87))&&(_0xab9407=(_0x152fe5*_0x152fe5-_0x465f87*_0x465f87+_0x320a2a*_0x320a2a)/(2*_0x320a2a),_0x5ca8ed=_0x3a3364[0]+_0x1a6e27*_0xab9407/_0x320a2a,_0x37f397=_0x3a3364[1]+_0x3a8850*_0xab9407/_0x320a2a,[_0x5ca8ed+(_0x478500=(_0x4df170=Math.sqrt(_0x152fe5*_0x152fe5-_0xab9407*_0xab9407))/_0x320a2a*-_0x3a8850),_0x37f397+(_0x5ddcbc=_0x1a6e27*(_0x4df170/_0x320a2a))]))}function _0x3e8b61(_0x1c167a,_0xf55abf,_0x5c5a68,_0x190992,_0x106b44,_0x657ec){var _0x34da84=(_0xf55abf[0]-_0x1c167a[0])/_0x5c5a68,_0x52990d=(_0xf55abf[1]-_0x1c167a[1])/_0x5c5a68;if("left"==_0x657ec)var _0xa35e77=_0x34da84*Math.cos(_0x106b44)-_0x52990d*Math.sin(_0x106b44),_0xcb034c=_0x34da84*Math.sin(_0x106b44)+_0x52990d*Math.cos(_0x106b44),_0x20cdab=_0x1c167a[0]+_0x190992*_0xa35e77,_0x208f5e=_0x1c167a[1]+_0x190992*_0xcb034c;else var _0xa35e77=_0x34da84*Math.cos(_0x106b44)+_0x52990d*Math.sin(_0x106b44),_0xcb034c=-_0x34da84*Math.sin(_0x106b44)+_0x52990d*Math.cos(_0x106b44),_0x20cdab=_0x1c167a[0]+_0x190992*_0xa35e77,_0x208f5e=_0x1c167a[1]+_0x190992*_0xcb034c;return[_0x20cdab,_0x208f5e]}function _0x1d8146(_0x167054,_0x12e436){function _0xe92aff(_0x33cd78,_0x568dcb){var _0x309e12=getEdgeData(_0x33cd78,_0x568dcb),_0x33068a=180-(_0x309e12.mitrePrev+_0x309e12.mitreNext),_0x51b4e4=_0x568dcb[_0x33cd78].edgeLength/Math.sin(_0x33068a*Math.PI/180)*Math.sin(_0x309e12.mitreNext*Math.PI/180),_0x12f78e;return Math.sin(_0x309e12.mitrePrev*Math.PI/180)*_0x51b4e4}if(edges.length<4){var _0x8ddb52=_0xe92aff(edges[0],edges);if(_0x12e436>_0x8ddb52)return!1}function _0x288486(_0x2fea6b,_0xb1f8b){var _0x18e63f=[];return _0x2fea6b.forEach((function(_0x45d346,_0x5f0a46){var _0x490c08=getEdgeData(_0x5f0a46,_0x2fea6b),_0x1de847=Math.abs(_0x12e436/Math.tan(_0x490c08.mitrePrev*(Math.PI/180))),_0x5f11e3=Math.abs(_0x12e436/Math.tan(_0x490c08.mitreNext*(Math.PI/180)));_0x490c08.mitrePrev>90&&(_0x1de847=-_0x1de847),_0x490c08.mitreNext>90&&(_0x5f11e3=-_0x5f11e3);var _0x10eae5=_0xe92aff(_0x5f0a46,_0x2fea6b);_0x1de847+_0x5f11e3>_0x45d346.edgeLength&&_0x10eae5>0&&_0x18e63f.push({index:_0x5f0a46,maxOffset:_0x10eae5,direction:_0x45d346.direction})})),_0x18e63f.sort((function(_0x56bacd,_0x45da2b){return _0x56bacd.maxOffset-_0x45da2b.maxOffset})),_0x18e63f.length>0&&[_0x18e63f[0].index]}function _0x338466(_0x2d60bc){var _0x8aaf8d=_0x288486(_0x2d60bc,!0),_0x17ca48=[],_0x2dacae=0,_0x595b24=0,_0x3cca34=0;_0x8aaf8d.forEach((function(_0x5399c2,_0x3363bb){var _0x67fc51=getEdgeData(_0x5399c2,_0x2d60bc);debug=!1,debug=!0,_0x8aaf8d.includes(_0x67fc51.indexPrev)||(_0x2dacae=0,_0x595b24=0,_0x3cca34=_0x67fc51.indexPrev);var _0xa2ee2c=getOrthoDistance(_0x67fc51.direction,_0x67fc51.edgeLength);if(_0x2dacae+=_0xa2ee2c.horizontal,_0x595b24+=_0xa2ee2c.vertical,!_0x8aaf8d.includes(_0x67fc51.indexNext)){var _0xb23c24=_0x67fc51.indexNext,_0x3d3973="right",_0x21e076="down";_0x2dacae<0&&(_0x3d3973="left"),_0x595b24<0&&(_0x21e076="up");var _0x428637=Math.abs(Math.atan(_0x595b24/_0x2dacae)*(180/Math.PI)),_0x2634f8=Math.sqrt(_0x595b24*_0x595b24+_0x2dacae*_0x2dacae);("left"==_0x3d3973&&"down"==_0x21e076||"right"==_0x3d3973&&"up"==_0x21e076)&&(_0x428637=90-_0x428637),"up"==_0x21e076&&"right"==_0x3d3973?_0x428637+=270:"up"==_0x21e076&&"left"==_0x3d3973?_0x428637+=180:"down"==_0x21e076&&"left"==_0x3d3973&&(_0x428637+=90);var _0x1b2d0c=getEdgeData(_0x3cca34,_0x2d60bc),_0x482b3f=getEdgeData(_0xb23c24,_0x2d60bc),_0x156ab9=_0x428637-_0x1b2d0c.direction,_0x12c978=_0x482b3f.direction-_0x428637;_0x156ab9<0&&(_0x156ab9+=360),_0x12c978<0&&(_0x12c978+=360);var _0x531f2d=180-(_0x156ab9+_0x12c978),_0x1713ba=_0x2634f8*(Math.sin(_0x12c978*(Math.PI/180))/Math.sin(_0x531f2d*(Math.PI/180))),_0x30b4a3=_0x2634f8*(Math.sin(_0x156ab9*(Math.PI/180))/Math.sin(_0x531f2d*(Math.PI/180)));if(0==_0x5399c2||0==_0xb23c24){if(0==_0x5399c2)var _0x21f931=getEdgeData(_0x3cca34,_0x2d60bc),_0x10a606=_0x1713ba,_0x180b04="left",_0x5dcdd1="up";else var _0x21f931=getEdgeData(_0xb23c24,_0x2d60bc),_0x10a606=_0x30b4a3,_0x180b04="right",_0x5dcdd1="down";var _0x2b5102=_0x21f931.direction%90,_0x505f24=Math.cos(_0x2b5102*(Math.PI/180))*_0x10a606,_0x10d180=Math.sin(_0x2b5102*(Math.PI/180))*_0x10a606;if("left"==_0x21f931.directionHorizontal&&"down"==_0x21f931.directionVertical||"right"==_0x21f931.directionHorizontal&&"up"==_0x21f931.directionVertical||"none"==_0x21f931.directionHorizontal)var _0x3756b8=_0x505f24,_0x2fadb1=_0x10d180;else var _0x2fadb1=_0x505f24,_0x3756b8=_0x10d180;_0x21f931.directionHorizontal==_0x180b04&&(_0x2fadb1=-_0x2fadb1),_0x21f931.directionVertical==_0x5dcdd1&&(_0x3756b8=-_0x3756b8),_0x167054.x+=_0x2fadb1,_0x167054.y+=_0x3756b8}_0x2d60bc[_0xb23c24].edgeLength+=_0x30b4a3,_0x2d60bc[_0x3cca34].edgeLength+=_0x1713ba,_0x67fc51.indexNext}_0x17ca48.unshift(_0x5399c2)}));for(const _0x325591 of _0x17ca48)_0x2d60bc.splice(_0x325591,1)}for(;_0x288486(_0x167054.edges);)_0x338466(_0x167054.edges),directionToCrank(_0x167054.edges);var _0x30b82c=getEdgeData(0,_0x167054.edges),_0x53ae31,_0x260f80=_0x12e436/Math.tan(_0x30b82c.mitrePrev*(Math.PI/180))/Math.cos(_0x30b82c.mitrePrev*(Math.PI/180)),_0x513e46=_0x30b82c.mitrePrev+_0x30b82c.direction;return _0x167054.x+=Math.cos(_0x513e46*(Math.PI/180))*_0x260f80,_0x167054.y+=Math.sin(_0x513e46*(Math.PI/180))*_0x260f80,_0x167054.edges.forEach((function(_0xc36c81,_0x62e921){var _0x4012b7=getEdgeData(_0x62e921,_0x167054.edges),_0x17c8e6=_0x12e436/Math.tan(_0x4012b7.mitrePrev*(Math.PI/180)),_0x7f740c=_0x12e436/Math.tan(_0x4012b7.mitreNext*(Math.PI/180));_0xc36c81.edgeLength-=_0x17c8e6,_0xc36c81.edgeLength-=_0x7f740c})),_0x167054}$(document).ajaxComplete((function(_0x352859,_0x56be8f,_0x218481){"/app/hatch"==_0x218481.url&&"standard"!==getHatchMethod()&&_0xdc661d(JSON.parse(_0x56be8f.responseText).hatch).then((function(_0x540e5e){downloadHatch(_0x540e5e)}))})),$(document).ajaxSend((function(_0x5ebaa7,_0x48edff,_0x393109){if("/app/node-canvas"==_0x393109.url){let _0x1fbbc9=JSON.parse(_0x393109.data);var _0x313ee3={},_0x20f92d=[];for(const _0x14ad6f of Object.values(_0x1fbbc9.tileStyles))if("designOptions"in _0x14ad6f)for(const _0x3dac15 of Object.values(_0x14ad6f.designOptions))if("params"in _0x3dac15&&("textures"!==_0x14ad6f.imgType&&"addTagFilters"in _0x3dac15.params&&(_0x313ee3[_0x14ad6f.materialId]=_0x3dac15.params.addTagFilters),"surfaces"in _0x3dac15.params))for(const _0xbcfc1e of _0x3dac15.params.surfaces)"img"in _0xbcfc1e&&!_0x20f92d.includes(_0xbcfc1e.image)&&_0x20f92d.push(_0xbcfc1e.img);var _0x679747=[];let _0x59d259=config.materialsUsed.concat(params.jointID+"");for(let[_0x4fd2fb,_0x2946ea]of Object.entries(config.materials)){if(_0x59d259.includes(_0x4fd2fb+"")&&_0x2946ea.texture_sources.length){let _0x3b976f=[];_0x2946ea.texture_sources.forEach((function(_0x3196a3){function _0x5dab31(_0x19c288){let _0x4a26fc=!("high-res"!=_0x1fbbc9.trigger&&!_0x1fbbc9.hasOwnProperty("pxSize"));var _0x4aafad=_0x19c288.includes("original")&&_0x4a26fc?_0x19c288.replace("original","6000"):_0x19c288.includes("original")?_0x19c288.replace("original",config.srcRes):_0x19c288;return config.cdn+_0x4aafad}(!_0x313ee3.hasOwnProperty(_0x4fd2fb)||_0x3196a3.hasOwnProperty("tags")&&includesAny(_0x3196a3.tags,_0x313ee3[_0x4fd2fb]))&&(_0x3196a3.texture_map&&_0x3b976f.push({sourceObject:_0x3196a3,map:"texture_map",url:_0x5dab31(_0x3196a3.texture_map)}),_0x3196a3.bump_map&&["bump","plane","sphere"].includes(params.view)&&_0x3b976f.push({sourceObject:_0x3196a3,map:"bump_map",url:_0x5dab31(_0x3196a3.bump_map)}),_0x3196a3.displacement_map&&["displacement","plane","sphere"].includes(params.view)&&_0x3b976f.push({sourceObject:_0x3196a3,map:"displacement_map",url:_0x5dab31(_0x3196a3.displacement_map)}),_0x3196a3.normal_map&&["normal","plane","sphere"].includes(params.view)&&_0x3b976f.push({sourceObject:_0x3196a3,map:"normal_map",url:_0x5dab31(_0x3196a3.normal_map)}),_0x3196a3.roughness_map&&["roughness","plane","sphere"].includes(params.view)&&_0x3b976f.push({sourceObject:_0x3196a3,map:"roughness_map",url:_0x5dab31(_0x3196a3.roughness_map)}),_0x3196a3.metalness_map&&["metalness","plane","sphere"].includes(params.view)&&_0x3b976f.push({sourceObject:_0x3196a3,map:"metalness_map",url:_0x5dab31(_0x3196a3.metalness_map)}))})),_0x3b976f.forEach((function(_0x578cf3){_0x679747.push(new Promise((function(_0x279bb1,_0x2669f1){if(_0x578cf3.sourceObject.hasOwnProperty(_0x578cf3.map+"_img")&&_0x578cf3.sourceObject[_0x578cf3.map+"_img"].src===_0x578cf3.url)_0x279bb1();else{let _0x5041c2=new Image;_0x578cf3.sourceObject[_0x578cf3.map+"_img"]=_0x5041c2,_0x5041c2.crossOrigin="anonymous",_0x5041c2.onload=function(){if("Wood"===config.materials[_0x4fd2fb].category&&_0x5041c2.height>_0x5041c2.width&&getMm(_0x1fbbc9.tileWidth)>getMm(_0x1fbbc9.tileHeight)&&(1!=config.materials[_0x4fd2fb].seamless||17!==_0x1fbbc9.patternId))for(style of(_0x578cf3.sourceObject[_0x578cf3.map+"_img"]=rotateImage(_0x5041c2,90),Object.values(_0x1fbbc9.tileStyles)))style.materialId==_0x4fd2fb&&(style.materialWidth=config.materials[_0x4fd2fb].realwidth/(_0x5041c2.width/_0x5041c2.height));_0x279bb1()},_0x5041c2.onerror=function(){const _0x2f3268=_0x2946ea.texture_sources.indexOf(_0x578cf3.sourceObject);_0x2f3268>-1&&_0x2946ea.texture_sources.splice(_0x2f3268,1),_0x279bb1()},_0x5041c2.src=_0x578cf3.url}})))}))}_0x59d259.includes(_0x4fd2fb+"")||delete config.materials[_0x4fd2fb]}Promise.all(_0x679747).then((function(){if("single-action-button"==_0x1fbbc9.trigger&&"revit"==config.plugin){setHatchName();let _0x58c819=copy(_0x1fbbc9);_0x58c819.rowData=rowData,_0x58c819.hatchApp="revit",_0x58c819.hatchType="model",_0x58c819.hatchName=config.hatchName,_0x58c819.tileWidthInches=!0===_0x58c819.inches?mmToInches(inchesToMm(_0x58c819.tileWidth)):mmToInches(_0x58c819.tileWidth),_0x58c819.tileHeightInches=!0===_0x58c819.inches?mmToInches(inchesToMm(_0x58c819.tileHeight)):mmToInches(_0x58c819.tileHeight),postJson("/app/hatch",_0x58c819).then((function(_0x38889f){_0xdc661d(_0x38889f.hatch).then((function(_0x4a9c11){config.hatchPat=_0x4a9c11,_0x507ec0()}))}))}else _0x507ec0()}))}}))});